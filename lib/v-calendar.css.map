{"version":3,"sources":["webpack://v-calendar/src/components/d:/code/github/studiochris/v-calendar/src/components/src/components/Popover.vue","v-calendar.css","webpack://v-calendar/src/components/d:/code/github/studiochris/v-calendar/src/components/src/components/PopoverRow.vue","webpack://v-calendar/src/components/d:/code/github/studiochris/v-calendar/src/components/src/components/Grid.vue","webpack://v-calendar/src/components/d:/code/github/studiochris/v-calendar/src/components/src/components/SvgIcon.vue","webpack://v-calendar/src/components/d:/code/github/studiochris/v-calendar/src/components/src/components/CalendarDay.vue","webpack://v-calendar/src/components/d:/code/github/studiochris/v-calendar/src/components/src/components/CalendarPane.vue","webpack://v-calendar/src/components/d:/code/github/studiochris/v-calendar/src/components/src/components/CustomTransition.vue","webpack://v-calendar/src/components/d:/code/github/studiochris/v-calendar/src/components/src/components/Calendar.vue","webpack://v-calendar/src/components/d:/code/github/studiochris/v-calendar/src/components/src/components/DatePicker.vue"],"names":[],"mappings":"AAsSA,4BACA,uCAAA,CACA,sCAAA,CACA,gCAAA,CACA,2CAAA,CACA,sCAAA,CACA,mCAAA,CAEA,iBAAA,CACA,aAAA,CACA,YAAA,CACA,UCtSA,CDuSA,iDACA,mBCrSA,CDySA,oBACA,iBAAA,CACA,YAAA,CACA,UCvSA,CDwSA,qCACA,iDCtSA,CDwSA,kCACA,oDCtSA,CDwSA,mCACA,qDCtSA,CDwSA,oCACA,oDCtSA,CD0SA,kBACA,UAAA,CACA,iBAAA,CACA,aAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,mBAAA,CACA,kBAAA,CACA,UCxSA,CDySA,mCACA,KCvSA,CDwSA,8CACA,wCCtSA,CDwSA,gDACA,yDCtSA,CDwSA,+CACA,wCCtSA,CDySA,gCACA,QCvSA,CDwSA,2CACA,0CCtSA,CDwSA,6CACA,2DCtSA,CDwSA,4CACA,0CCtSA,CDySA,iCACA,SCvSA,CDwSA,2CACA,yCCtSA,CDwSA,8CACA,0DCtSA,CDwSA,8CACA,yCCtSA,CDySA,kCACA,MCvSA,CDwSA,4CACA,yCCtSA,CDwSA,+CACA,0DCtSA,CDwSA,+CACA,yCCtSA,CDySA,6BACA,2CCvSA,CDySA,+BACA,QCvSA,CDySA,8BACA,4CCvSA,CDySA,4BACA,wCCvSA,CDySA,+BACA,OCvSA,CDySA,+BACA,2CCvSA,CD2SA,wFAIA,6CAAA,CACA,mBCzSA,CDiTA,kEAEA,SC3SA,CD4SA,yEACA,+DC1SA,CD4SA,mEACA,sDC1SA,CD4SA,qEACA,sDC1SA,CD4SA,uEACA,+DC1SA,CCjDA,oBACA,2CAAA,CACA,YAAA,CACA,kBAAA,CACA,iDDoDA,CCnDA,sCACA,cDqDA,CClDA,8BACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,WAAA,CACA,UAAA,CACA,gBDoDA,CCnDA,mCACA,iDDqDA,CClDA,4BACA,YAAA,CACA,kBAAA,CACA,cAAA,CACA,WAAA,CACA,yBAAA,CAAA,iBDqDA,CEuDA,mBACA,iBAAA,CACA,aAAA,CACA,YAAA,CACA,aAAA,CACA,gCFpDA,CEsDA,cACA,YAAA,CACA,sBAAA,CACA,kBFpDA,CGlHA,aACA,oBAAA,CACA,mBAAA,CACA,cHqHA,CGpHA,kBACA,iBHsHA,CI+RA,QACA,iBAAA,CACA,gCAAA,CACA,UAAA,CACA,WAAA,CACA,SJ5RA,CI+RA,cACA,iBAAA,CACA,MAAA,CACA,OAAA,CACA,KAAA,CACA,QAAA,CACA,mBJ7RA,CIgSA,0BACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,WAAA,CACA,wBJ9RA,CIiSA,wBACA,YAAA,CACA,0BAAA,CACA,kBAAA,CACA,WAAA,CACA,sBJ/RA,CIkSA,yBACA,YAAA,CACA,wBAAA,CACA,kBAAA,CACA,WAAA,CACA,yBJhSA,CImSA,0BACA,YAAA,CACA,sBAAA,CACA,oBJjSA,CIoSA,gBACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,8BAAA,CACA,gCAAA,CACA,gCAAA,CACA,wBAAA,CAAA,oBAAA,CAAA,gBJhSA,CIiSA,sBACA,kDJ/RA,CIgSA,iCACA,uDJ9RA,CIiSA,sBACA,kDJ/RA,CIgSA,iCACA,uDJ9RA,CImSA,eACA,eAAA,CACA,mBAAA,CACA,UJjSA,CIoSA,cACA,6BAAA,CACA,8BJlSA,CImSA,sCACA,mBAAA,CACA,yBAAA,CACA,8BJjSA,CImSA,oCACA,mBAAA,CACA,yBAAA,CACA,6BJjSA,CImSA,uCACA,UAAA,CACA,yBAAA,CACA,6BAAA,CACA,8BAAA,CACA,aJjSA,CIqSA,SACA,YAAA,CACA,sBAAA,CACA,kBJnSA,CIsSA,QACA,yBAAA,CACA,0BAAA,CACA,sCAAA,CACA,iDJpSA,CIqSA,yBACA,+BJnSA,CIuSA,SACA,YAAA,CACA,0BAAA,CACA,kBAAA,CACA,uBJrSA,CIwSA,QACA,WAAA,CACA,wBAAA,CACA,iDJtSA,CKxHA,SACA,WAAA,CACA,aAAA,CACA,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,mBL2HA,CKxHA,uBACA,iBL0HA,CKvHA,WACA,aAAA,CACA,YAAA,CACA,mBAAA,CACA,wBAAA,CAAA,oBAAA,CAAA,gBAAA,CACA,6BL2HA,CK1HA,sBACA,QAAA,CACA,0BL4HA,CK1HA,uBACA,OAAA,CACA,wBL4HA,CKxHA,iBACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,WL0HA,CKzHA,4BACA,0BL2HA,CKzHA,6BACA,wBL2HA,CKvHA,kBACA,iBLyHA,CKtHA,UACA,cAAA,CAEA,kBAAA,CACA,4BL0HA,CKvHA,sBALA,wBAAA,CAAA,oBAAA,CAAA,gBLuIA,CKlIA,YACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,MAAA,CACA,8BAAA,CACA,cL4HA,CKxHA,UACA,aAAA,CACA,WAAA,CACA,4BL0HA,CMxUA,sCAEA,sBN2UA,CMxUA,4OAUA,gHN0UqD,CMxUrD,kCAAA,CAAA,0BN2UA,CMxUA,yIAMA,iBAAA,CACA,UN0UA,CMvUA,gNAYA,SNyUA,CMtUA,wCAEA,4CNwUA,CMrUA,wCAEA,qDNuUA,CMpUA,qCAEA,4CNsUA,CMnUA,qCAEA,qDNqUA,COiUA,cACA,sBAAA,CACA,sBAAA,CACA,mBAAA,CAEA,iCAAA,CACA,qBAAA,CACA,yBAAA,CACA,sBAAA,CACA,uBAAA,CACA,+BAAA,CAEA,2BAAA,CAEA,qBAAA,CACA,wBAAA,CACA,yBAAA,CACA,+BAAA,CACA,2CAAA,CACA,kDAAA,CACA,uDAAA,CACA,kDAAA,CACA,uDAAA,CAEA,uBAAA,CAEA,kBAAA,CACA,uBAAA,CACA,iBAAA,CAEA,gBAAA,CACA,gBAAA,CAEA,mJPpUoC,COuUpC,kCAAA,CACA,iCAAA,CACA,iBAAA,CACA,yBAAA,CAAA,iBAAA,CACA,uCPpUA,COuUA,qBACA,UAAA,CACA,iBAAA,CACA,KAAA,CACA,YAAA,CACA,6BAAA,CACA,6BAAA,CACA,mBPrUA,COsUA,gCACA,wBPpUA,COsUA,iCACA,0BPpUA,CQtDA,uBACA,WRyDA","file":"v-calendar.css","sourcesContent":["<script>\r\nimport Popper from 'popper.js';\r\nimport { popoversMixin } from '../utils/popovers';\r\nimport { on, off, elementContains } from '../utils/helpers';\r\nimport { addTapOrClickHandler } from '../utils/touch';\r\nimport { isFunction } from '../utils/_';\r\n\r\nexport default {\r\n  name: 'Popover',\r\n  render(h) {\r\n    return h(\r\n      'div',\r\n      {\r\n        class: [\r\n          'vc-popover-content-wrapper',\r\n          { 'is-interactive': this.isInteractive },\r\n        ],\r\n        ref: 'popover',\r\n      },\r\n      [\r\n        h(\r\n          'transition',\r\n          {\r\n            props: {\r\n              name: this.transition,\r\n              appear: true,\r\n            },\r\n            on: {\r\n              beforeEnter: this.beforeEnter,\r\n              afterEnter: this.afterEnter,\r\n              beforeLeave: this.beforeLeave,\r\n              afterLeave: this.afterLeave,\r\n            },\r\n          },\r\n          [\r\n            this.isVisible &&\r\n              h(\r\n                'div',\r\n                {\r\n                  attrs: {\r\n                    tabindex: -1,\r\n                  },\r\n                  class: [\r\n                    'vc-popover-content',\r\n                    `direction-${this.direction}`,\r\n                    this.contentClass,\r\n                  ],\r\n                },\r\n                [\r\n                  this.content,\r\n                  h('span', {\r\n                    class: [\r\n                      'vc-popover-caret',\r\n                      `direction-${this.direction}`,\r\n                      `align-${this.alignment}`,\r\n                    ],\r\n                  }),\r\n                ],\r\n              ),\r\n          ],\r\n        ),\r\n      ],\r\n    );\r\n  },\r\n  mixins: [popoversMixin],\r\n  props: {\r\n    id: { type: String, required: true },\r\n    transition: { type: String, default: 'slide-fade' },\r\n    contentClass: String,\r\n  },\r\n  data() {\r\n    return {\r\n      ref: null,\r\n      args: null,\r\n      visibility: '',\r\n      placement: 'bottom',\r\n      positionFixed: false,\r\n      modifiers: {},\r\n      isInteractive: false,\r\n      delay: 10,\r\n      popperEl: null,\r\n    };\r\n  },\r\n  computed: {\r\n    content() {\r\n      return (\r\n        (isFunction(this.$scopedSlots.default) &&\r\n          this.$scopedSlots.default({\r\n            direction: this.direction,\r\n            alignment: this.alignment,\r\n            args: this.args,\r\n            updateLayout: this.scheduleUpdate,\r\n            hide: opts => this.hide(opts),\r\n          })) ||\r\n        this.$slots.default\r\n      );\r\n    },\r\n    popperOptions() {\r\n      return {\r\n        placement: this.placement,\r\n        positionFixed: this.positionFixed,\r\n        modifiers: {\r\n          hide: { enabled: false },\r\n          preventOverflow: { enabled: false },\r\n          ...this.modifiers,\r\n        },\r\n        onCreate: this.onPopperUpdate,\r\n        onUpdate: this.onPopperUpdate,\r\n      };\r\n    },\r\n    isVisible() {\r\n      return !!(\r\n        this.ref &&\r\n        (this.$scopedSlots.default || this.$slots.default) &&\r\n        this.visibility !== 'hidden'\r\n      );\r\n    },\r\n    direction() {\r\n      return (this.placement && this.placement.split('-')[0]) || 'bottom';\r\n    },\r\n    alignment() {\r\n      const isLeftRight =\r\n        this.direction === 'left' || this.direction === 'right';\r\n      let alignment = this.placement.split('-');\r\n      alignment = alignment.length > 1 ? alignment[1] : '';\r\n      if (['start', 'top', 'left'].includes(alignment)) {\r\n        return isLeftRight ? 'top' : 'left';\r\n      }\r\n      if (['end', 'bottom', 'right'].includes(alignment)) {\r\n        return isLeftRight ? 'bottom' : 'right';\r\n      }\r\n      return isLeftRight ? 'middle' : 'center';\r\n    },\r\n    state() {\r\n      return this.$popovers[this.id];\r\n    },\r\n  },\r\n  watch: {\r\n    state: {\r\n      immediate: true,\r\n      handler(val) {\r\n        if (val) {\r\n          this.ref = val.ref;\r\n          this.args = val.args;\r\n          this.visibility = val.visibility;\r\n          this.placement = val.placement;\r\n          this.positionFixed = val.positionFixed;\r\n          this.modifiers = val.modifiers;\r\n          this.isInteractive = val.isInteractive;\r\n          this.setupPopper();\r\n        }\r\n      },\r\n    },\r\n  },\r\n  mounted() {\r\n    this.popoverEl = this.$refs.popover;\r\n    this.addEvents();\r\n  },\r\n  beforeDestroy() {\r\n    this.removeEvents();\r\n  },\r\n  methods: {\r\n    addEvents() {\r\n      on(this.popoverEl, 'click', this.onClick);\r\n      on(this.popoverEl, 'mouseover', this.onMouseOver);\r\n      on(this.popoverEl, 'mouseleave', this.onMouseLeave);\r\n      on(this.popoverEl, 'focusin', this.onFocusIn);\r\n      on(this.popoverEl, 'focusout', this.onFocusOut);\r\n      on(document, 'keydown', this.onDocumentKeydown);\r\n      this.removeDocHandler = addTapOrClickHandler(\r\n        document,\r\n        this.onDocumentClick,\r\n      );\r\n    },\r\n    removeEvents() {\r\n      off(this.popoverEl, 'click', this.onClick);\r\n      off(this.popoverEl, 'mouseover', this.onMouseOver);\r\n      off(this.popoverEl, 'mouseleave', this.onMouseLeave);\r\n      off(this.popoverEl, 'focusin', this.onFocusIn);\r\n      off(this.popoverEl, 'focusout', this.onFocusOut);\r\n      off(document, 'keydown', this.onDocumentKeydown);\r\n      if (this.removeDocHandler) this.removeDocHandler();\r\n    },\r\n    onClick(e) {\r\n      e.stopPropagation();\r\n    },\r\n    onMouseOver() {\r\n      if (this.isInteractive && this.visibility === 'hover') {\r\n        this.show();\r\n      }\r\n    },\r\n    onMouseLeave() {\r\n      if (this.isInteractive && this.visibility === 'hover') {\r\n        this.hide();\r\n      }\r\n    },\r\n    onFocusIn() {\r\n      if (this.isInteractive && this.visibility === 'focus') {\r\n        this.show();\r\n      }\r\n    },\r\n    onFocusOut(e) {\r\n      if (\r\n        this.isInteractive &&\r\n        this.visibility === 'focus' &&\r\n        e.relatedTarget &&\r\n        !elementContains(this.popoverEl, e.relatedTarget)\r\n      ) {\r\n        this.hide();\r\n      }\r\n    },\r\n    onDocumentClick(e) {\r\n      if (!this.$refs.popover || !this.ref) {\r\n        return;\r\n      }\r\n      // Don't hide if target element is contained within popover ref or content\r\n      if (\r\n        elementContains(this.popoverEl, e.target) ||\r\n        elementContains(this.ref, e.target)\r\n      ) {\r\n        return;\r\n      }\r\n      // Hide the popover\r\n      this.hide();\r\n    },\r\n    onDocumentKeydown(e) {\r\n      if (e.key === 'Esc' || e.key === 'Escape') {\r\n        this.hide();\r\n      }\r\n    },\r\n    show() {\r\n      this.$showPopover({ id: this.id, ref: this.ref, delay: 0 });\r\n    },\r\n    hide(opts) {\r\n      this.$hidePopover({\r\n        ...opts,\r\n        id: this.id,\r\n        ref: this.ref,\r\n      });\r\n    },\r\n    onUpdate({ args }) {\r\n      this.args = args;\r\n      this.setupPopper();\r\n    },\r\n    setupPopper() {\r\n      this.$nextTick(() => {\r\n        if (!this.ref || !this.$refs.popover) return;\r\n        if (this.popper && this.popper.reference !== this.ref) {\r\n          this.popper.destroy();\r\n          this.popper = null;\r\n        }\r\n        if (!this.popper) {\r\n          this.popper = new Popper(\r\n            this.ref,\r\n            this.popoverEl,\r\n            this.popperOptions,\r\n          );\r\n        } else {\r\n          this.popper.scheduleUpdate();\r\n        }\r\n      });\r\n    },\r\n    onPopperUpdate(data) {\r\n      this.placement = data.placement;\r\n    },\r\n    scheduleUpdate() {\r\n      if (this.popper) {\r\n        this.popper.scheduleUpdate();\r\n      }\r\n    },\r\n    beforeEnter(e) {\r\n      this.$emit('beforeShow', e);\r\n    },\r\n    afterEnter(e) {\r\n      this.$emit('afterShow', e);\r\n    },\r\n    beforeLeave(e) {\r\n      this.$emit('beforeHide', e);\r\n    },\r\n    afterLeave(e) {\r\n      this.destroyPopper();\r\n      this.$emit('afterHide', e);\r\n    },\r\n    destroyPopper() {\r\n      if (this.popper) {\r\n        this.popper.destroy();\r\n        this.popper = null;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n.vc-popover-content-wrapper {\r\n  --popover-horizontal-content-offset: 8px;\r\n  --popover-vertical-content-offset: 10px;\r\n  --popover-slide-translation: 15px;\r\n  --popover-transition-time: 0.14s ease-in-out;\r\n  --popover-caret-horizontal-offset: 18px;\r\n  --popover-caret-vertical-offset: 8px;\r\n\r\n  position: absolute;\r\n  display: block;\r\n  outline: none;\r\n  z-index: 10;\r\n  &:not(.is-interactive) {\r\n    pointer-events: none;\r\n  }\r\n}\r\n\r\n.vc-popover-content {\r\n  position: relative;\r\n  outline: none;\r\n  z-index: 10;\r\n  &.direction-bottom {\r\n    margin-top: var(--popover-vertical-content-offset);\r\n  }\r\n  &.direction-top {\r\n    margin-bottom: var(--popover-vertical-content-offset);\r\n  }\r\n  &.direction-left {\r\n    margin-right: var(--popover-horizontal-content-offset);\r\n  }\r\n  &.direction-right {\r\n    margin-left: var(--popover-horizontal-content-offset);\r\n  }\r\n}\r\n\r\n.vc-popover-caret {\r\n  content: '';\r\n  position: absolute;\r\n  display: block;\r\n  width: 12px;\r\n  height: 12px;\r\n  border-top: inherit;\r\n  border-left: inherit;\r\n  background: inherit;\r\n  z-index: -1;\r\n  &.direction-bottom {\r\n    top: 0;\r\n    &.align-left {\r\n      transform: translateY(-50%) rotate(45deg);\r\n    }\r\n    &.align-center {\r\n      transform: translateX(-50%) translateY(-50%) rotate(45deg);\r\n    }\r\n    &.align-right {\r\n      transform: translateY(-50%) rotate(45deg);\r\n    }\r\n  }\r\n  &.direction-top {\r\n    top: 100%;\r\n    &.align-left {\r\n      transform: translateY(-50%) rotate(-135deg);\r\n    }\r\n    &.align-center {\r\n      transform: translateX(-50%) translateY(-50%) rotate(-135deg);\r\n    }\r\n    &.align-right {\r\n      transform: translateY(-50%) rotate(-135deg);\r\n    }\r\n  }\r\n  &.direction-left {\r\n    left: 100%;\r\n    &.align-top {\r\n      transform: translateX(-50%) rotate(135deg);\r\n    }\r\n    &.align-middle {\r\n      transform: translateY(-50%) translateX(-50%) rotate(135deg);\r\n    }\r\n    &.align-bottom {\r\n      transform: translateX(-50%) rotate(135deg);\r\n    }\r\n  }\r\n  &.direction-right {\r\n    left: 0;\r\n    &.align-top {\r\n      transform: translateX(-50%) rotate(-45deg);\r\n    }\r\n    &.align-middle {\r\n      transform: translateY(-50%) translateX(-50%) rotate(-45deg);\r\n    }\r\n    &.align-bottom {\r\n      transform: translateX(-50%) rotate(-45deg);\r\n    }\r\n  }\r\n  &.align-left {\r\n    left: var(--popover-caret-horizontal-offset);\r\n  }\r\n  &.align-center {\r\n    left: 50%;\r\n  }\r\n  &.align-right {\r\n    right: var(--popover-caret-horizontal-offset);\r\n  }\r\n  &.align-top {\r\n    top: var(--popover-caret-vertical-offset);\r\n  }\r\n  &.align-middle {\r\n    top: 50%;\r\n  }\r\n  &.align-bottom {\r\n    bottom: var(--popover-caret-vertical-offset);\r\n  }\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active,\r\n.slide-fade-enter-active,\r\n.slide-fade-leave-active {\r\n  transition: all var(--popover-transition-time);\r\n  pointer-events: none;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.slide-fade-enter,\r\n.slide-fade-leave-to {\r\n  opacity: 0;\r\n  &.direction-bottom {\r\n    transform: translateY(calc(-1 * var(--popover-slide-translation)));\r\n  }\r\n  &.direction-top {\r\n    transform: translateY(var(--popover-slide-translation));\r\n  }\r\n  &.direction-left {\r\n    transform: translateX(var(--popover-slide-translation));\r\n  }\r\n  &.direction-right {\r\n    transform: translateX(calc(-1 * var(--popover-slide-translation)));\r\n  }\r\n}\r\n</style>\r\n",".vc-popover-content-wrapper {\n  --popover-horizontal-content-offset: 8px;\n  --popover-vertical-content-offset: 10px;\n  --popover-slide-translation: 15px;\n  --popover-transition-time: 0.14s ease-in-out;\n  --popover-caret-horizontal-offset: 18px;\n  --popover-caret-vertical-offset: 8px;\n  position: absolute;\n  display: block;\n  outline: none;\n  z-index: 10\n}\n.vc-popover-content-wrapper:not(.is-interactive) {\n  pointer-events: none;\n}\n.vc-popover-content {\n  position: relative;\n  outline: none;\n  z-index: 10\n}\n.vc-popover-content.direction-bottom {\n  margin-top: var(--popover-vertical-content-offset);\n}\n.vc-popover-content.direction-top {\n  margin-bottom: var(--popover-vertical-content-offset);\n}\n.vc-popover-content.direction-left {\n  margin-right: var(--popover-horizontal-content-offset);\n}\n.vc-popover-content.direction-right {\n  margin-left: var(--popover-horizontal-content-offset);\n}\n.vc-popover-caret {\n  content: '';\n  position: absolute;\n  display: block;\n  width: 12px;\n  height: 12px;\n  border-top: inherit;\n  border-left: inherit;\n  background: inherit;\n  z-index: -1\n}\n.vc-popover-caret.direction-bottom {\n  top: 0\n}\n.vc-popover-caret.direction-bottom.align-left {\n  transform: translateY(-50%) rotate(45deg);\n}\n.vc-popover-caret.direction-bottom.align-center {\n  transform: translateX(-50%) translateY(-50%) rotate(45deg);\n}\n.vc-popover-caret.direction-bottom.align-right {\n  transform: translateY(-50%) rotate(45deg);\n}\n.vc-popover-caret.direction-top {\n  top: 100%\n}\n.vc-popover-caret.direction-top.align-left {\n  transform: translateY(-50%) rotate(-135deg);\n}\n.vc-popover-caret.direction-top.align-center {\n  transform: translateX(-50%) translateY(-50%) rotate(-135deg);\n}\n.vc-popover-caret.direction-top.align-right {\n  transform: translateY(-50%) rotate(-135deg);\n}\n.vc-popover-caret.direction-left {\n  left: 100%\n}\n.vc-popover-caret.direction-left.align-top {\n  transform: translateX(-50%) rotate(135deg);\n}\n.vc-popover-caret.direction-left.align-middle {\n  transform: translateY(-50%) translateX(-50%) rotate(135deg);\n}\n.vc-popover-caret.direction-left.align-bottom {\n  transform: translateX(-50%) rotate(135deg);\n}\n.vc-popover-caret.direction-right {\n  left: 0\n}\n.vc-popover-caret.direction-right.align-top {\n  transform: translateX(-50%) rotate(-45deg);\n}\n.vc-popover-caret.direction-right.align-middle {\n  transform: translateY(-50%) translateX(-50%) rotate(-45deg);\n}\n.vc-popover-caret.direction-right.align-bottom {\n  transform: translateX(-50%) rotate(-45deg);\n}\n.vc-popover-caret.align-left {\n  left: var(--popover-caret-horizontal-offset);\n}\n.vc-popover-caret.align-center {\n  left: 50%;\n}\n.vc-popover-caret.align-right {\n  right: var(--popover-caret-horizontal-offset);\n}\n.vc-popover-caret.align-top {\n  top: var(--popover-caret-vertical-offset);\n}\n.vc-popover-caret.align-middle {\n  top: 50%;\n}\n.vc-popover-caret.align-bottom {\n  bottom: var(--popover-caret-vertical-offset);\n}\n.fade-enter-active,\r\n.fade-leave-active,\r\n.slide-fade-enter-active,\r\n.slide-fade-leave-active {\n  transition: all var(--popover-transition-time);\n  pointer-events: none;\n}\n.fade-enter,\r\n.fade-leave-to {\n  opacity: 0;\n}\n.slide-fade-enter,\r\n.slide-fade-leave-to {\n  opacity: 0\n}\n.slide-fade-enter.direction-bottom, .slide-fade-leave-to.direction-bottom {\n  transform: translateY(calc(-1 * var(--popover-slide-translation)));\n}\n.slide-fade-enter.direction-top, .slide-fade-leave-to.direction-top {\n  transform: translateY(var(--popover-slide-translation));\n}\n.slide-fade-enter.direction-left, .slide-fade-leave-to.direction-left {\n  transform: translateX(var(--popover-slide-translation));\n}\n.slide-fade-enter.direction-right, .slide-fade-leave-to.direction-right {\n  transform: translateX(calc(-1 * var(--popover-slide-translation)));\n}\r\n\n.vc-day-popover-row {\n  --day-content-transition-time: 0.13s ease-in;\n  display: flex;\n  align-items: center;\n  transition: all var(--day-content-transition-time)\n}\n.vc-day-popover-row:not(:first-child) {\n  margin-top: 3px;\n}\n.vc-day-popover-row-indicator {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 0;\n  width: 15px;\n  margin-right: 3px\n}\n.vc-day-popover-row-indicator span {\n  transition: all var(--day-content-transition-time);\n}\n.vc-day-popover-row-content {\n  display: flex;\n  align-items: center;\n  flex-wrap: none;\n  flex-grow: 1;\n  width: -webkit-max-content;\n  width: max-content;\n}\r\n\n.vc-grid-container {\n  position: relative;\n  flex-shrink: 1;\n  display: grid;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.vc-grid-cell {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\r\n\n.vc-svg-icon {\n  display: inline-block;\n  stroke: currentColor;\n  stroke-width: 0\n}\n.vc-svg-icon path {\n  fill: currentColor;\n}\r\n\n.vc-day {\n  position: relative;\n  min-height: var(--day-min-height);\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n.vc-day-layer {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n}\n.vc-day-box-center-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  transform-origin: 50% 50%;\n}\n.vc-day-box-left-center {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 100%;\n  transform-origin: 0% 50%;\n}\n.vc-day-box-right-center {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: 100%;\n  transform-origin: 100% 50%;\n}\n.vc-day-box-center-bottom {\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n}\n.vc-day-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: var(--day-content-width);\n  height: var(--day-content-height);\n  margin: var(--day-content-margin);\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none\n}\n.vc-day-content:hover {\n  background-color: var(--day-content-bg-color-hover)\n}\n.vc-day-content:hover.vc-is-dark {\n  background-color: var(--day-content-dark-bg-color-hover);\n}\n.vc-day-content:focus {\n  background-color: var(--day-content-bg-color-focus)\n}\n.vc-day-content:focus.vc-is-dark {\n  background-color: var(--day-content-dark-bg-color-focus);\n}\n.vc-highlights {\n  overflow: hidden;\n  pointer-events: none;\n  z-index: -1;\n}\n.vc-highlight {\n  width: var(--highlight-height);\n  height: var(--highlight-height)\n}\n.vc-highlight.vc-highlight-base-start {\n  width: 50% !important;\n  border-radius: 0 !important;\n  border-right-width: 0 !important;\n}\n.vc-highlight.vc-highlight-base-end {\n  width: 50% !important;\n  border-radius: 0 !important;\n  border-left-width: 0 !important;\n}\n.vc-highlight.vc-highlight-base-middle {\n  width: 100%;\n  border-radius: 0 !important;\n  border-left-width: 0 !important;\n  border-right-width: 0 !important;\n  margin: 0 -1px;\n}\n.vc-dots {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.vc-dot {\n  width: var(--dot-diameter);\n  height: var(--dot-diameter);\n  border-radius: var(--dot-border-radius);\n  transition: all var(--day-content-transition-time)\n}\n.vc-dot:not(:last-child) {\n  margin-right: var(--dot-spacing);\n}\n.vc-bars {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  width: var(--bars-width);\n}\n.vc-bar {\n  flex-grow: 1;\n  height: var(--bar-height);\n  transition: all var(--day-content-transition-time);\n}\r\n\n.vc-pane {\n  flex-grow: 1;\n  flex-shrink: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: stretch;\n}\n.vc-horizontal-divider {\n  align-self: center;\n}\n.vc-header {\n  flex-shrink: 0;\n  display: flex;\n  align-items: stretch;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  padding: var(--header-padding)\n}\n.vc-header.align-left {\n  order: -1;\n  justify-content: flex-start;\n}\n.vc-header.align-right {\n  order: 1;\n  justify-content: flex-end;\n}\n.vc-title-layout {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1\n}\n.vc-title-layout.align-left {\n  justify-content: flex-start;\n}\n.vc-title-layout.align-right {\n  justify-content: flex-end;\n}\n.vc-title-wrapper {\n  position: relative;\n}\n.vc-title {\n  cursor: pointer;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  white-space: nowrap;\n  padding: var(--title-padding);\n}\n.vc-weekday {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n  padding: var(--weekday-padding);\n  cursor: default;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.vc-weeks {\n  flex-shrink: 1;\n  flex-grow: 1;\n  padding: var(--weeks-padding);\n}\r\n\n.none-enter-active,\r\n.none-leave-active {\n  transition-duration: 0s;\n}\n.fade-enter-active,\r\n.fade-leave-active,\r\n.slide-left-enter-active,\r\n.slide-left-leave-active,\r\n.slide-right-enter-active,\r\n.slide-right-leave-active,\r\n.slide-up-enter-active,\r\n.slide-up-leave-active,\r\n.slide-down-enter-active,\r\n.slide-down-leave-active {\n  transition: transform var(--slide-duration) var(--slide-timing),\r\n    opacity var(--slide-duration) var(--slide-timing);\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n}\n.none-leave-active,\r\n.fade-leave-active,\r\n.slide-left-leave-active,\r\n.slide-right-leave-active,\r\n.slide-up-leave-active,\r\n.slide-down-leave-active {\n  position: absolute;\n  width: 100%;\n}\n.none-enter,\r\n.none-leave-to,\r\n.fade-enter,\r\n.fade-leave-to,\r\n.slide-left-enter,\r\n.slide-left-leave-to,\r\n.slide-right-enter,\r\n.slide-right-leave-to,\r\n.slide-up-enter,\r\n.slide-up-leave-to,\r\n.slide-down-enter,\r\n.slide-down-leave-to {\n  opacity: 0;\n}\n.slide-left-enter,\r\n.slide-right-leave-to {\n  transform: translateX(var(--slide-translate));\n}\n.slide-right-enter,\r\n.slide-left-leave-to {\n  transform: translateX(calc(-1 * var(--slide-translate)));\n}\n.slide-up-enter,\r\n.slide-down-leave-to {\n  transform: translateY(var(--slide-translate));\n}\n.slide-down-enter,\r\n.slide-up-leave-to {\n  transform: translateY(calc(-1 * var(--slide-translate)));\n}\r\n\n.vc-container {\n  --slide-translate: 22px;\n  --slide-duration: 0.15s;\n  --slide-timing: ease;\n  --header-padding: 10px 10px 0 10px;\n  --title-padding: 0 8px;\n  --arrows-padding: 8px 10px;\n  --arrow-font-size: 26px;\n  --weekday-padding: 5px 0;\n  --weeks-padding: 5px 6px 7px 6px;\n  --nav-container-width: 170px;\n  --day-min-height: 28px;\n  --day-content-width: 28px;\n  --day-content-height: 28px;\n  --day-content-margin: 1.6px auto;\n  --day-content-transition-time: 0.13s ease-in;\n  --day-content-bg-color-hover: hsla(211, 25%, 84%, 0.3);\n  --day-content-dark-bg-color-hover: hsla(216, 15%, 52%, 0.3);\n  --day-content-bg-color-focus: hsla(211, 25%, 84%, 0.4);\n  --day-content-dark-bg-color-focus: hsla(216, 15%, 52%, 0.4);\n  --highlight-height: 28px;\n  --dot-diameter: 5px;\n  --dot-border-radius: 50%;\n  --dot-spacing: 3px;\n  --bar-height: 3px;\n  --bars-width: 75%;\n  font-family: BlinkMacSystemFont, -apple-system, 'Segoe UI', 'Roboto', 'Oxygen',\r\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n    'Helvetica', 'Arial', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: relative;\n  width: -webkit-max-content;\n  width: max-content;\n  -webkit-tap-highlight-color: transparent;\n}\n.vc-arrows-container {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  display: flex;\n  justify-content: space-between;\n  padding: var(--arrows-padding);\n  pointer-events: none\n}\n.vc-arrows-container.title-left {\n  justify-content: flex-end;\n}\n.vc-arrows-container.title-right {\n  justify-content: flex-start;\n}\r\n\n::v-deep .vc-container {\n  border: none;\n}\r\n\n\n/*# sourceMappingURL=v-calendar.css.map*/","<template>\r\n  <!-- Content row -->\r\n  <div class=\"vc-day-popover-row\">\r\n    <!-- Indicator -->\r\n    <div v-if=\"indicator\" class=\"vc-day-popover-row-indicator\">\r\n      <span :style=\"indicator.style\" :class=\"indicator.class\" />\r\n    </div>\r\n    <!-- Content -->\r\n    <div class=\"vc-day-popover-row-content\">\r\n      <slot>{{\r\n        attribute.popover ? attribute.popover.label : 'No content provided'\r\n      }}</slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { childMixin } from '../utils/mixins';\r\n\r\nexport default {\r\n  name: 'PopoverRow',\r\n  mixins: [childMixin],\r\n  props: {\r\n    attribute: Object,\r\n  },\r\n  computed: {\r\n    indicator() {\r\n      const { highlight, dot, bar, content, popover } = this.attribute;\r\n      if (popover && popover.hideIndicator) return null;\r\n      if (highlight) {\r\n        const { color, isDark } = highlight.start;\r\n        return {\r\n          class: this.theme.getConfig('bgAccentHigh', {\r\n            color,\r\n            isDark: !isDark,\r\n          }),\r\n          style: {\r\n            width: '10px',\r\n            height: '5px',\r\n            borderRadius: '3px',\r\n          },\r\n        };\r\n      }\r\n      if (dot) {\r\n        const { color, isDark } = dot.start;\r\n        return {\r\n          class: this.theme.getConfig('bgAccentHigh', {\r\n            color,\r\n            isDark: !isDark,\r\n          }),\r\n          style: {\r\n            width: '5px',\r\n            height: '5px',\r\n            borderRadius: '50%',\r\n          },\r\n        };\r\n      }\r\n      if (bar) {\r\n        const { color, isDark } = bar.start;\r\n        return {\r\n          class: this.theme.getConfig('bgAccentHigh', {\r\n            color,\r\n            isDark: !isDark,\r\n          }),\r\n          style: {\r\n            width: '10px',\r\n            height: '3px',\r\n          },\r\n        };\r\n      }\r\n      if (content) {\r\n        const { color, isDark } = content.start;\r\n        return {\r\n          class: this.theme.getConfig('contentContrast', {\r\n            color,\r\n            isDark: !isDark,\r\n          }),\r\n        };\r\n      }\r\n      return null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n.vc-day-popover-row {\r\n  --day-content-transition-time: 0.13s ease-in;\r\n  display: flex;\r\n  align-items: center;\r\n  transition: all var(--day-content-transition-time);\r\n  &:not(:first-child) {\r\n    margin-top: 3px;\r\n  }\r\n}\r\n.vc-day-popover-row-indicator {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-grow: 0;\r\n  width: 15px;\r\n  margin-right: 3px;\r\n  & span {\r\n    transition: all var(--day-content-transition-time);\r\n  }\r\n}\r\n.vc-day-popover-row-content {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: none;\r\n  flex-grow: 1;\r\n  width: max-content;\r\n}\r\n</style>\r\n","<script>\r\nconst directions = {\r\n  vLeading: 'vertical-leading',\r\n  vTrailing: 'vertical-trailing',\r\n  hLeading: 'horizontal-leading',\r\n  hTrailing: 'horizontal-trailing',\r\n};\r\nexport default {\r\n  name: 'Grid',\r\n  render(h) {\r\n    // Grid cell renderer\r\n    const getCell = ({ nodes, position, row, column }) => {\r\n      // Get the default slot first\r\n      if (nodes.length >= position) {\r\n        return nodes[position - 1];\r\n      }\r\n      // Get the scoped slot second\r\n      if (this.$scopedSlots.default) {\r\n        return this.$scopedSlots.default({\r\n          position,\r\n          row,\r\n          column,\r\n        });\r\n      }\r\n      return null;\r\n    };\r\n\r\n    // Grid cells renderer\r\n    const getCells = () => {\r\n      const cells = [];\r\n      // Resolve default slot nodes (remove whitespaced)\r\n      const nodes =\r\n        (this.$slots.default &&\r\n          this.$slots.default.filter(n => n.tag !== undefined)) ||\r\n        [];\r\n      // Build cells\r\n      for (let r = 1, p = 1; r <= this.rows; r++) {\r\n        for (let c = 1; c <= this.columns; c++) {\r\n          const rFromEnd = r - this.rows - 1;\r\n          const cFromEnd = c - this.columns - 1;\r\n          // Add the cell for current row & column\r\n          cells.push(\r\n            h(\r\n              'div',\r\n              {\r\n                class: [\r\n                  'vc-grid-cell',\r\n                  `vc-grid-cell-row-${r}`,\r\n                  `vc-grid-cell-row-${rFromEnd}`,\r\n                  `vc-grid-cell-col-${c}`,\r\n                  `vc-grid-cell-col-${cFromEnd}`,\r\n                ],\r\n                style: {\r\n                  'grid-row': r,\r\n                  'grid-column': c,\r\n                },\r\n                on: {\r\n                  keydown: e =>\r\n                    this.handleCellKeydown({ row: r, column: c, event: e }),\r\n                },\r\n              },\r\n              [getCell({ nodes, position: p++, row: r, column: c })],\r\n            ),\r\n          );\r\n        }\r\n      }\r\n      return cells;\r\n    };\r\n\r\n    return h(\r\n      'div',\r\n      {\r\n        class: 'vc-grid-container',\r\n        style: this.containerStyle,\r\n      },\r\n      [...getCells()],\r\n    );\r\n  },\r\n  props: {\r\n    count: Number,\r\n    rows: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    columns: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    gap: {\r\n      type: String,\r\n      default: '0px',\r\n    },\r\n    autofit: Boolean,\r\n    columnWidth: {\r\n      type: String,\r\n      default: '1fr',\r\n    },\r\n    disableFocus: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  computed: {\r\n    containerStyle() {\r\n      return {\r\n        gridTemplateColumns: this.gridTemplateColumns,\r\n        gridGap: this.gap,\r\n      };\r\n    },\r\n    gridTemplateColumns() {\r\n      return `repeat(${this.autofit ? 'auto-fit' : this.columns}, ${\r\n        this.columnWidth\r\n      })`;\r\n    },\r\n  },\r\n  methods: {\r\n    handleCellKeydown({ row, column, event }) {\r\n      // Return if focus management is disabled\r\n      if (this.disableFocus) return;\r\n      const state = {\r\n        row,\r\n        column,\r\n        alt: false,\r\n        handled: false,\r\n      };\r\n      // Increment row/column based on key\r\n      switch (event.key) {\r\n        case 'ArrowUp': {\r\n          state.row--;\r\n          break;\r\n        }\r\n        case 'ArrowDown': {\r\n          state.row++;\r\n          break;\r\n        }\r\n        case 'ArrowLeft': {\r\n          state.column--;\r\n          break;\r\n        }\r\n        case 'ArrowRight': {\r\n          state.column++;\r\n          break;\r\n        }\r\n        case 'Home': {\r\n          state.column = 1;\r\n          break;\r\n        }\r\n        case 'End': {\r\n          state.column = this.columns;\r\n          break;\r\n        }\r\n        case 'PageUp': {\r\n          state.alt = event.altKey;\r\n          state.direction = directions.vLeading;\r\n          break;\r\n        }\r\n        case 'PageDown': {\r\n          state.alt = event.altKey;\r\n          state.direction = directions.vTrailing;\r\n          break;\r\n        }\r\n        default: {\r\n          return;\r\n        }\r\n      }\r\n      // Handle state for row rollovers\r\n      if (state.row < 1) {\r\n        state.direction = directions.vLeading;\r\n        state.row = this.rows;\r\n      } else if (state.row > this.rows) {\r\n        state.direction = directions.vTrailing;\r\n        state.row = 1;\r\n      }\r\n      // Handle state for column rollovers\r\n      if (state.column < 1) {\r\n        state.direction = directions.hLeading;\r\n        state.column = this.columns;\r\n      } else if (state.column > this.columns) {\r\n        state.direction = directions.hTrailing;\r\n        state.column = 1;\r\n      }\r\n      // Emit rollover event if direction was assigned\r\n      if (state.direction) {\r\n        this.$emit('rollover', state);\r\n      }\r\n      // Focusd on cell for current state if event wasn't handled\r\n      if (!state.handled) {\r\n        // Get grid cell element\r\n        const cellSelector = `.vc-grid-cell-row-${state.row}.vc-grid-cell-col-${state.column}`;\r\n        const cellEl = this.$el.querySelector(cellSelector);\r\n        if (cellEl) {\r\n          this.tryFocus(cellEl);\r\n        }\r\n      }\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n    },\r\n    tryFocus(el = this.$el) {\r\n      this.$nextTick(() => {\r\n        const selectors = [\r\n          '.vc-grid-focus',\r\n          'button, [href], input, select, textarea, [tabindex=\"0\"]',\r\n          '[tabindex]:not([tabindex=\"undefined\"])',\r\n        ];\r\n        const focusableEl = selectors\r\n          .map(s => el.querySelector(s))\r\n          .find(e => e);\r\n        if (focusableEl) {\r\n          focusableEl.focus();\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.vc-grid-container {\r\n  position: relative;\r\n  flex-shrink: 1;\r\n  display: grid;\r\n  overflow: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n.vc-grid-cell {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n","<template>\r\n  <svg\r\n    class=\"vc-svg-icon\"\r\n    :width=\"width\"\r\n    :height=\"height\"\r\n    :viewBox=\"viewBox\"\r\n    v-on=\"$listeners\"\r\n  >\r\n    <path :d=\"path\" />\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nconst _defSize = '26px';\r\nconst _defViewBox = '0 0 32 32';\r\n\r\nconst icons = {\r\n  'left-arrow': {\r\n    viewBox: '0 -1 16 34',\r\n    path:\r\n      'M11.196 10c0 0.143-0.071 0.304-0.179 0.411l-7.018 7.018 7.018 7.018c0.107 0.107 0.179 0.268 0.179 0.411s-0.071 0.304-0.179 0.411l-0.893 0.893c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-8.321-8.321c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l8.321-8.321c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l0.893 0.893c0.107 0.107 0.179 0.25 0.179 0.411z',\r\n  },\r\n  'right-arrow': {\r\n    viewBox: '-5 -1 16 34',\r\n    path:\r\n      'M10.625 17.429c0 0.143-0.071 0.304-0.179 0.411l-8.321 8.321c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-0.893-0.893c-0.107-0.107-0.179-0.25-0.179-0.411 0-0.143 0.071-0.304 0.179-0.411l7.018-7.018-7.018-7.018c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l0.893-0.893c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l8.321 8.321c0.107 0.107 0.179 0.268 0.179 0.411z',\r\n  },\r\n};\r\n\r\nexport default {\r\n  props: ['name'],\r\n  data() {\r\n    return {\r\n      width: _defSize,\r\n      height: _defSize,\r\n      viewBox: _defViewBox,\r\n      path: '',\r\n      isBaseline: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.updateIcon();\r\n  },\r\n  watch: {\r\n    name() {\r\n      this.updateIcon();\r\n    },\r\n  },\r\n  methods: {\r\n    updateIcon() {\r\n      const icon = icons[this.name];\r\n      if (icon) {\r\n        this.width = icon.width || _defSize;\r\n        this.height = icon.height || _defSize;\r\n        this.viewBox = icon.viewBox;\r\n        this.path = icon.path;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n.vc-svg-icon {\r\n  display: inline-block;\r\n  stroke: currentColor;\r\n  stroke-width: 0;\r\n  & path {\r\n    fill: currentColor;\r\n  }\r\n}\r\n</style>\r\n","<script>\r\nimport PopoverRef from './PopoverRef';\r\nimport { childMixin, safeScopedSlotMixin } from '../utils/mixins';\r\nimport { arrayHasItems } from '../utils/helpers';\r\nimport { last, get, defaults } from '../utils/_';\r\n\r\nexport default {\r\n  name: 'CalendarDay',\r\n  mixins: [childMixin, safeScopedSlotMixin],\r\n  render(h) {\r\n    // Backgrounds layer\r\n    const backgroundsLayer = () =>\r\n      this.hasBackgrounds &&\r\n      h(\r\n        'div',\r\n        {\r\n          class: 'vc-highlights vc-day-layer',\r\n        },\r\n        this.backgrounds.map(({ key, wrapperClass, class: bgClass }) =>\r\n          h(\r\n            'div',\r\n            {\r\n              key,\r\n              class: wrapperClass,\r\n            },\r\n            [\r\n              h('div', {\r\n                class: bgClass,\r\n              }),\r\n            ],\r\n          ),\r\n        ),\r\n      );\r\n\r\n    // Content layer\r\n    const contentLayer = () =>\r\n      this.safeScopedSlot('day-content', {\r\n        day: this.day,\r\n        attributes: this.day.attributes,\r\n        attributesMap: this.day.attributesMap,\r\n        dayProps: this.dayContentProps,\r\n        dayEvents: this.dayContentEvents,\r\n      }) ||\r\n      h(\r\n        'span',\r\n        {\r\n          class: this.dayContentClass,\r\n          attrs: { ...this.dayContentProps },\r\n          on: this.dayContentEvents,\r\n          ref: 'content',\r\n        },\r\n        [this.day.label],\r\n      );\r\n\r\n    // Popover content wrapper\r\n    const contentWrapperLayer = () => {\r\n      if (!this.hasPopovers) {\r\n        return contentLayer();\r\n      }\r\n      const { visibility, placement, isInteractive } = this.popoverState;\r\n      return h(\r\n        PopoverRef,\r\n        {\r\n          props: {\r\n            id: this.dayPopoverId,\r\n            args: this.dayEvent,\r\n            visibility,\r\n            placement,\r\n            isInteractive,\r\n          },\r\n        },\r\n        [contentLayer()],\r\n      );\r\n    };\r\n\r\n    // Dots layer\r\n    const dotsLayer = () =>\r\n      this.hasDots &&\r\n      h(\r\n        'div',\r\n        {\r\n          class: 'vc-day-layer vc-day-box-center-bottom',\r\n        },\r\n        [\r\n          h(\r\n            'div',\r\n            {\r\n              class: 'vc-dots',\r\n            },\r\n            this.dots.map(({ key, class: bgClass }) =>\r\n              h('span', {\r\n                class: bgClass,\r\n                key,\r\n              }),\r\n            ),\r\n          ),\r\n        ],\r\n      );\r\n\r\n    // Bars layer\r\n    const barsLayer = () =>\r\n      this.hasBars &&\r\n      h(\r\n        'div',\r\n        {\r\n          class: 'vc-day-layer vc-day-box-center-bottom',\r\n        },\r\n        [\r\n          h(\r\n            'div',\r\n            {\r\n              class: 'vc-bars',\r\n            },\r\n            this.bars.map(({ key, class: bgClass }) =>\r\n              h('span', {\r\n                class: bgClass,\r\n                key,\r\n              }),\r\n            ),\r\n          ),\r\n        ],\r\n      );\r\n\r\n    // Root layer\r\n    return h(\r\n      'div',\r\n      {\r\n        class: [\r\n          'vc-day',\r\n          ...this.day.classes,\r\n          { 'vc-day-box-center-center': !this.$scopedSlots['day-content'] },\r\n        ],\r\n      },\r\n      [\r\n        h(\r\n          'div',\r\n          {\r\n            class: ['vc-h-full', { [this.theme.dayNotInMonth]: !this.inMonth }],\r\n          },\r\n          [backgroundsLayer(), contentWrapperLayer(), dotsLayer(), barsLayer()],\r\n        ),\r\n      ],\r\n    );\r\n  },\r\n  inject: ['sharedState'],\r\n  props: {\r\n    day: { type: Object, required: true },\r\n  },\r\n  data() {\r\n    return {\r\n      glyphs: {},\r\n      popoverState: {},\r\n    };\r\n  },\r\n  computed: {\r\n    label() {\r\n      return this.day.label;\r\n    },\r\n    dateTime() {\r\n      return this.day.dateTime;\r\n    },\r\n    inMonth() {\r\n      return this.day.inMonth;\r\n    },\r\n    isDisabled() {\r\n      return this.day.isDisabled;\r\n    },\r\n    backgrounds() {\r\n      return this.glyphs.backgrounds;\r\n    },\r\n    hasBackgrounds() {\r\n      return !!arrayHasItems(this.backgrounds);\r\n    },\r\n    content() {\r\n      return this.glyphs.content;\r\n    },\r\n    dots() {\r\n      return this.glyphs.dots;\r\n    },\r\n    hasDots() {\r\n      return !!arrayHasItems(this.dots);\r\n    },\r\n    bars() {\r\n      return this.glyphs.bars;\r\n    },\r\n    hasBars() {\r\n      return !!arrayHasItems(this.bars);\r\n    },\r\n    popovers() {\r\n      return this.glyphs.popovers;\r\n    },\r\n    hasPopovers() {\r\n      return !!arrayHasItems(this.popovers);\r\n    },\r\n    dayContentClass() {\r\n      return [\r\n        'vc-day-content vc-focusable',\r\n        get(last(this.content), 'class') || '',\r\n        this.isDisabled ? this.theme.dayContentDisabled : '',\r\n        this.theme.isDark ? 'vc-is-dark' : '',\r\n        this.theme.dayContent,\r\n      ];\r\n    },\r\n    dayContentProps() {\r\n      let tabindex;\r\n      if (this.day.isFocusable) {\r\n        tabindex = '0';\r\n      } else if (this.day.inMonth) {\r\n        tabindex = '-1';\r\n      }\r\n      return {\r\n        tabindex,\r\n        'aria-label': this.day.ariaLabel,\r\n      };\r\n    },\r\n    dayContentEvents() {\r\n      return {\r\n        click: this.click,\r\n        mouseenter: this.mouseenter,\r\n        mouseleave: this.mouseleave,\r\n        focusin: this.focusin,\r\n        focusout: this.focusout,\r\n        keydown: this.keydown,\r\n      };\r\n    },\r\n    dayEvent() {\r\n      return {\r\n        ...this.day,\r\n        el: this.$refs.content,\r\n        popovers: this.popovers,\r\n      };\r\n    },\r\n  },\r\n  watch: {\r\n    theme() {\r\n      this.refresh();\r\n    },\r\n    popovers() {\r\n      const visibilities = ['click', 'focus', 'hover', 'visible'];\r\n      let placement = '';\r\n      let isInteractive = false;\r\n      let vIdx = -1;\r\n      this.popovers.forEach(p => {\r\n        const vNew = visibilities.indexOf(p.visibility);\r\n        vIdx = vNew > vIdx ? vNew : vIdx;\r\n        placement = placement || p.placement;\r\n        isInteractive = isInteractive || p.isInteractive;\r\n      });\r\n      this.popoverState = {\r\n        visibility: vIdx >= 0 ? visibilities[vIdx] : 'hidden',\r\n        placement: placement || 'bottom',\r\n        isInteractive,\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    getDayEvent(origEvent) {\r\n      return {\r\n        ...this.dayEvent,\r\n        event: origEvent,\r\n      };\r\n    },\r\n    click(e) {\r\n      this.$emit('dayclick', this.getDayEvent(e));\r\n    },\r\n    mouseenter(e) {\r\n      this.$emit('daymouseenter', this.getDayEvent(e));\r\n    },\r\n    mouseleave(e) {\r\n      this.$emit('daymouseleave', this.getDayEvent(e));\r\n    },\r\n    focusin(e) {\r\n      this.$emit('dayfocusin', this.getDayEvent(e));\r\n    },\r\n    focusout(e) {\r\n      this.$emit('dayfocusout', this.getDayEvent(e));\r\n    },\r\n    keydown(e) {\r\n      this.$emit('daykeydown', this.getDayEvent(e));\r\n    },\r\n    refresh() {\r\n      if (!this.day.refresh) return;\r\n      this.day.refresh = false;\r\n      const glyphs = {\r\n        backgrounds: [],\r\n        dots: [],\r\n        bars: [],\r\n        popovers: [],\r\n        content: [],\r\n      };\r\n      this.day.attributes = Object.values(this.day.attributesMap || {}).sort(\r\n        (a, b) => a.order - b.order,\r\n      );\r\n      this.day.attributes.forEach(attr => {\r\n        // Add glyphs for each attribute\r\n        const { targetDate } = attr;\r\n        const { isDate, isComplex, startTime, endTime } = targetDate;\r\n        const onStart = startTime === this.dateTime;\r\n        const onEnd = endTime === this.dateTime;\r\n        const onStartAndEnd = onStart && onEnd;\r\n        const onStartOrEnd = onStart || onEnd;\r\n        const dateInfo = {\r\n          isDate,\r\n          isComplex,\r\n          onStart,\r\n          onEnd,\r\n          onStartAndEnd,\r\n          onStartOrEnd,\r\n        };\r\n        this.processHighlight(attr, dateInfo, glyphs);\r\n        this.processContent(attr, dateInfo, glyphs);\r\n        this.processDot(attr, dateInfo, glyphs);\r\n        this.processBar(attr, dateInfo, glyphs);\r\n        this.processPopover(attr, glyphs);\r\n      });\r\n      this.glyphs = glyphs;\r\n    },\r\n    processHighlight(\r\n      { key, highlight },\r\n      { isDate, isComplex, onStart, onEnd, onStartAndEnd },\r\n      { backgrounds, content },\r\n    ) {\r\n      if (!highlight) return;\r\n      const { base, start, end } = highlight;\r\n      if (isDate || isComplex) {\r\n        backgrounds.push({\r\n          key,\r\n          wrapperClass: 'vc-day-layer vc-day-box-center-center',\r\n          class: `vc-highlight ${start.class}`,\r\n        });\r\n        content.push({\r\n          key: `${key}-content`,\r\n          class: start.contentClass,\r\n        });\r\n      } else if (onStartAndEnd) {\r\n        backgrounds.push({\r\n          key,\r\n          wrapperClass: 'vc-day-layer vc-day-box-center-center',\r\n          class: `vc-highlight ${start.class}`,\r\n        });\r\n        content.push({\r\n          key: `${key}-content`,\r\n          class: start.contentClass,\r\n        });\r\n      } else if (onStart) {\r\n        backgrounds.push({\r\n          key: `${key}-base`,\r\n          wrapperClass: 'vc-day-layer vc-day-box-right-center',\r\n          class: `vc-highlight vc-highlight-base-start ${base.class}`,\r\n        });\r\n        backgrounds.push({\r\n          key,\r\n          wrapperClass: 'vc-day-layer vc-day-box-center-center',\r\n          class: `vc-highlight ${start.class}`,\r\n        });\r\n        content.push({\r\n          key: `${key}-content`,\r\n          class: start.contentClass,\r\n        });\r\n      } else if (onEnd) {\r\n        backgrounds.push({\r\n          key: `${key}-base`,\r\n          wrapperClass: 'vc-day-layer vc-day-box-left-center',\r\n          class: `vc-highlight vc-highlight-base-end ${base.class}`,\r\n        });\r\n        backgrounds.push({\r\n          key,\r\n          wrapperClass: 'vc-day-layer vc-day-box-center-center',\r\n          class: `vc-highlight ${end.class}`,\r\n        });\r\n        content.push({\r\n          key: `${key}-content`,\r\n          class: end.contentClass,\r\n        });\r\n      } else {\r\n        backgrounds.push({\r\n          key: `${key}-middle`,\r\n          wrapperClass: 'vc-day-layer vc-day-box-center-center',\r\n          class: `vc-highlight vc-highlight-base-middle ${base.class}`,\r\n        });\r\n        content.push({\r\n          key: `${key}-content`,\r\n          class: base.contentClass,\r\n        });\r\n      }\r\n    },\r\n    processContent(\r\n      { key, content },\r\n      { isDate, onStart, onEnd },\r\n      { content: contents },\r\n    ) {\r\n      if (!content) return;\r\n      const { base, start, end } = content;\r\n      if (isDate || onStart) {\r\n        contents.push({\r\n          key,\r\n          class: start.class,\r\n        });\r\n      } else if (onEnd) {\r\n        contents.push({\r\n          key,\r\n          class: end.class,\r\n        });\r\n      } else {\r\n        contents.push({\r\n          key,\r\n          class: base.class,\r\n        });\r\n      }\r\n    },\r\n    processDot({ key, dot }, { isDate, onStart, onEnd }, { dots }) {\r\n      if (!dot) return;\r\n      const { base, start, end } = dot;\r\n      if (isDate || onStart) {\r\n        dots.push({\r\n          key,\r\n          class: `vc-dot ${start.class}`,\r\n        });\r\n      } else if (onEnd) {\r\n        dots.push({\r\n          key,\r\n          class: `vc-dot ${end.class}`,\r\n        });\r\n      } else {\r\n        dots.push({\r\n          key,\r\n          class: `vc-dot ${base.class}`,\r\n        });\r\n      }\r\n    },\r\n    processBar({ key, bar }, { isDate, onStart, onEnd }, { bars }) {\r\n      if (!bar) return;\r\n      const { base, start, end } = bar;\r\n      if (isDate || onStart) {\r\n        bars.push({\r\n          key,\r\n          class: `vc-bar ${start.class}`,\r\n        });\r\n      } else if (onEnd) {\r\n        bars.push({\r\n          key,\r\n          class: `vc-bar ${end.class}`,\r\n        });\r\n      } else {\r\n        bars.push({\r\n          key,\r\n          class: `vc-bar ${base.class}`,\r\n        });\r\n      }\r\n    },\r\n    processPopover(attribute, { popovers }) {\r\n      const { key, customData, popover } = attribute;\r\n      if (!popover) return;\r\n      const resolvedPopover = defaults(\r\n        {\r\n          key,\r\n          customData,\r\n          attribute,\r\n        },\r\n        { ...popover },\r\n        {\r\n          visibility: popover.label ? 'hover' : 'click',\r\n          placement: 'bottom',\r\n          isInteractive: !popover.label,\r\n        },\r\n      );\r\n      popovers.splice(0, 0, resolvedPopover);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n.vc-day {\r\n  position: relative;\r\n  min-height: var(--day-min-height);\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n}\r\n\r\n.vc-day-layer {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.vc-day-box-center-center {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  transform-origin: 50% 50%;\r\n}\r\n\r\n.vc-day-box-left-center {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  height: 100%;\r\n  transform-origin: 0% 50%;\r\n}\r\n\r\n.vc-day-box-right-center {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  height: 100%;\r\n  transform-origin: 100% 50%;\r\n}\r\n\r\n.vc-day-box-center-bottom {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n}\r\n\r\n.vc-day-content {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: var(--day-content-width);\r\n  height: var(--day-content-height);\r\n  margin: var(--day-content-margin);\r\n  user-select: none;\r\n  &:hover {\r\n    background-color: var(--day-content-bg-color-hover);\r\n    &.vc-is-dark {\r\n      background-color: var(--day-content-dark-bg-color-hover);\r\n    }\r\n  }\r\n  &:focus {\r\n    background-color: var(--day-content-bg-color-focus);\r\n    &.vc-is-dark {\r\n      background-color: var(--day-content-dark-bg-color-focus);\r\n    }\r\n  }\r\n}\r\n\r\n.vc-highlights {\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n  z-index: -1;\r\n}\r\n\r\n.vc-highlight {\r\n  width: var(--highlight-height);\r\n  height: var(--highlight-height);\r\n  &.vc-highlight-base-start {\r\n    width: 50% !important;\r\n    border-radius: 0 !important;\r\n    border-right-width: 0 !important;\r\n  }\r\n  &.vc-highlight-base-end {\r\n    width: 50% !important;\r\n    border-radius: 0 !important;\r\n    border-left-width: 0 !important;\r\n  }\r\n  &.vc-highlight-base-middle {\r\n    width: 100%;\r\n    border-radius: 0 !important;\r\n    border-left-width: 0 !important;\r\n    border-right-width: 0 !important;\r\n    margin: 0 -1px;\r\n  }\r\n}\r\n\r\n.vc-dots {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.vc-dot {\r\n  width: var(--dot-diameter);\r\n  height: var(--dot-diameter);\r\n  border-radius: var(--dot-border-radius);\r\n  transition: all var(--day-content-transition-time);\r\n  &:not(:last-child) {\r\n    margin-right: var(--dot-spacing);\r\n  }\r\n}\r\n\r\n.vc-bars {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  width: var(--bars-width);\r\n}\r\n\r\n.vc-bar {\r\n  flex-grow: 1;\r\n  height: var(--bar-height);\r\n  transition: all var(--day-content-transition-time);\r\n}\r\n</style>\r\n","<script>\r\nimport Popover from './Popover';\r\nimport PopoverRef from './PopoverRef';\r\nimport CalendarNav from './CalendarNav';\r\nimport CalendarDay from './CalendarDay';\r\nimport Grid from './Grid';\r\nimport {\r\n  propOrDefaultMixin,\r\n  childMixin,\r\n  safeScopedSlotMixin,\r\n} from '../utils/mixins';\r\nimport { createGuid } from '../utils/helpers';\r\n\r\nexport default {\r\n  name: 'CalendarPane',\r\n  mixins: [propOrDefaultMixin, childMixin, safeScopedSlotMixin],\r\n  render(h) {\r\n    // Header\r\n    const header =\r\n      this.safeScopedSlot('header', this.page) ||\r\n      h(\r\n        'div',\r\n        {\r\n          class: ['vc-header', this.theme.header],\r\n        },\r\n        [\r\n          // Header title\r\n          h(\r\n            'div',\r\n            {\r\n              class: `vc-title-layout align-${this.titlePosition}`,\r\n            },\r\n            [\r\n              h('div', { class: 'vc-title-wrapper' }, [\r\n                // Navigation popover ref with title\r\n                h(\r\n                  PopoverRef,\r\n                  {\r\n                    props: {\r\n                      id: this.navPopoverId,\r\n                      visibility: this.navVisibility_,\r\n                      placement: this.navPlacement,\r\n                      modifiers: { flip: { behavior: ['bottom'] } },\r\n                      isInteractive: true,\r\n                    },\r\n                  },\r\n                  [\r\n                    // Title content\r\n                    h('div', { class: ['vc-title', this.theme.title] }, [\r\n                      this.safeScopedSlot(\r\n                        'header-title',\r\n                        this.page,\r\n                        this.page.title,\r\n                      ),\r\n                    ]),\r\n                  ],\r\n                ),\r\n                // Navigation popover\r\n                h(\r\n                  Popover,\r\n                  {\r\n                    props: {\r\n                      id: this.navPopoverId,\r\n                      contentClass: this.theme.navPopoverContainer,\r\n                    },\r\n                  },\r\n                  [\r\n                    // Navigation pane\r\n                    h(CalendarNav, {\r\n                      props: {\r\n                        value: this.page,\r\n                        validator: this.canMove,\r\n                      },\r\n                      on: {\r\n                        input: $event => this.move($event),\r\n                      },\r\n                      scopedSlots: this.$scopedSlots,\r\n                    }),\r\n                  ],\r\n                ),\r\n              ]),\r\n            ],\r\n          ),\r\n        ],\r\n      );\r\n\r\n    // Weeks\r\n    const weeks = h(\r\n      Grid,\r\n      {\r\n        class: 'vc-weeks',\r\n        props: {\r\n          rows: 7,\r\n          columns: 7,\r\n          columnWidth: '1fr',\r\n          disableFocus: true,\r\n        },\r\n      },\r\n      [\r\n        ...this.weekdayLabels.map((wl, i) =>\r\n          h(\r\n            'div',\r\n            {\r\n              key: i + 1,\r\n              class: ['vc-weekday', this.theme.weekdays],\r\n            },\r\n            [wl],\r\n          ),\r\n        ),\r\n        ...this.page.days.map(day =>\r\n          h(CalendarDay, {\r\n            attrs: {\r\n              ...this.$attrs,\r\n              day,\r\n            },\r\n            on: {\r\n              ...this.$listeners,\r\n            },\r\n            scopedSlots: this.$scopedSlots,\r\n            key: day.id,\r\n            ref: 'days',\r\n            refInFor: true,\r\n          }),\r\n        ),\r\n      ],\r\n    );\r\n\r\n    return h(\r\n      'div',\r\n      {\r\n        class: 'vc-pane',\r\n        ref: 'pane',\r\n      },\r\n      [header, weeks],\r\n    );\r\n  },\r\n  props: {\r\n    page: Object,\r\n    titlePosition: String,\r\n    navVisibility: String,\r\n    canMove: {\r\n      type: Function,\r\n      default: () => true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      navPopoverId: createGuid(),\r\n    };\r\n  },\r\n  computed: {\r\n    navVisibility_() {\r\n      return this.propOrDefault('navVisibility', 'navVisibility');\r\n    },\r\n    navPlacement() {\r\n      switch (this.titlePosition) {\r\n        case 'left':\r\n          return 'bottom-start';\r\n        case 'right':\r\n          return 'bottom-end';\r\n        default:\r\n          return 'bottom';\r\n      }\r\n    },\r\n    weekdayLabels() {\r\n      return this.locale\r\n        .getWeekdayDates()\r\n        .map(d => this.format(d, this.masks.weekdays));\r\n    },\r\n  },\r\n  methods: {\r\n    move(page) {\r\n      this.$emit('update:page', page);\r\n    },\r\n    refresh() {\r\n      this.$refs.days.forEach(d => d.refresh());\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n.vc-pane {\r\n  flex-grow: 1;\r\n  flex-shrink: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: stretch;\r\n}\r\n\r\n.vc-horizontal-divider {\r\n  align-self: center;\r\n}\r\n\r\n.vc-header {\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  align-items: stretch;\r\n  user-select: none;\r\n  padding: var(--header-padding);\r\n  &.align-left {\r\n    order: -1;\r\n    justify-content: flex-start;\r\n  }\r\n  &.align-right {\r\n    order: 1;\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n\r\n.vc-title-layout {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-grow: 1;\r\n  &.align-left {\r\n    justify-content: flex-start;\r\n  }\r\n  &.align-right {\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n\r\n.vc-title-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.vc-title {\r\n  cursor: pointer;\r\n  user-select: none;\r\n  white-space: nowrap;\r\n  padding: var(--title-padding);\r\n}\r\n\r\n.vc-weekday {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex: 1;\r\n  padding: var(--weekday-padding);\r\n  cursor: default;\r\n  user-select: none;\r\n}\r\n\r\n.vc-weeks {\r\n  flex-shrink: 1;\r\n  flex-grow: 1;\r\n  padding: var(--weeks-padding);\r\n}\r\n</style>\r\n","<script>\r\nexport default {\r\n  name: 'CustomTransition',\r\n  render(h) {\r\n    return h(\r\n      'transition',\r\n      {\r\n        props: {\r\n          name: this.name_,\r\n          appear: this.appear,\r\n        },\r\n        on: {\r\n          beforeEnter: this.beforeEnter,\r\n          afterEnter: this.afterEnter,\r\n        },\r\n      },\r\n      [this.$slots.default],\r\n    );\r\n  },\r\n  props: {\r\n    name: String,\r\n    appear: Boolean,\r\n  },\r\n  computed: {\r\n    name_() {\r\n      return this.name || 'none';\r\n    },\r\n  },\r\n  methods: {\r\n    beforeEnter(el) {\r\n      this.$emit('beforeEnter', el);\r\n      this.$emit('beforeTransition', el);\r\n    },\r\n    afterEnter(el) {\r\n      this.$emit('afterEnter', el);\r\n      this.$emit('afterTransition', el);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n.none-enter-active,\r\n.none-leave-active {\r\n  transition-duration: 0s;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active,\r\n.slide-left-enter-active,\r\n.slide-left-leave-active,\r\n.slide-right-enter-active,\r\n.slide-right-leave-active,\r\n.slide-up-enter-active,\r\n.slide-up-leave-active,\r\n.slide-down-enter-active,\r\n.slide-down-leave-active {\r\n  transition: transform var(--slide-duration) var(--slide-timing),\r\n    opacity var(--slide-duration) var(--slide-timing);\r\n  backface-visibility: hidden;\r\n}\r\n\r\n.none-leave-active,\r\n.fade-leave-active,\r\n.slide-left-leave-active,\r\n.slide-right-leave-active,\r\n.slide-up-leave-active,\r\n.slide-down-leave-active {\r\n  position: absolute;\r\n  width: 100%;\r\n}\r\n\r\n.none-enter,\r\n.none-leave-to,\r\n.fade-enter,\r\n.fade-leave-to,\r\n.slide-left-enter,\r\n.slide-left-leave-to,\r\n.slide-right-enter,\r\n.slide-right-leave-to,\r\n.slide-up-enter,\r\n.slide-up-leave-to,\r\n.slide-down-enter,\r\n.slide-down-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.slide-left-enter,\r\n.slide-right-leave-to {\r\n  transform: translateX(var(--slide-translate));\r\n}\r\n\r\n.slide-right-enter,\r\n.slide-left-leave-to {\r\n  transform: translateX(calc(-1 * var(--slide-translate)));\r\n}\r\n\r\n.slide-up-enter,\r\n.slide-down-leave-to {\r\n  transform: translateY(var(--slide-translate));\r\n}\r\n\r\n.slide-down-enter,\r\n.slide-up-leave-to {\r\n  transform: translateY(calc(-1 * var(--slide-translate)));\r\n}\r\n</style>\r\n","<script>\r\nimport { addDays, addMonths, addYears } from 'date-fns';\r\nimport Popover from './Popover';\r\nimport PopoverRow from './PopoverRow';\r\nimport Grid from './Grid';\r\nimport CalendarPane from './CalendarPane';\r\nimport CustomTransition from './CustomTransition';\r\nimport SvgIcon from './SvgIcon';\r\nimport AttributeStore from '../utils/attributeStore';\r\nimport {\r\n  propOrDefaultMixin,\r\n  rootMixin,\r\n  safeScopedSlotMixin,\r\n} from '../utils/mixins';\r\nimport { addHorizontalSwipeHandler } from '../utils/touch';\r\nimport {\r\n  pageForDate,\r\n  pageForThisMonth,\r\n  addPages,\r\n  pageIsValid,\r\n  pageIsEqualToPage,\r\n  pageIsBeforePage,\r\n  pageIsAfterPage,\r\n  pageIsBetweenPages,\r\n  createGuid,\r\n  arrayHasItems,\r\n  onSpaceOrEnter,\r\n} from '../utils/helpers';\r\nimport {\r\n  isNumber,\r\n  isDate,\r\n  isObject,\r\n  hasAny,\r\n  omit,\r\n  head,\r\n  last,\r\n} from '../utils/_';\r\n\r\nexport default {\r\n  name: 'Calendar',\r\n  render(h) {\r\n    // Renderer for calendar panes\r\n    const panes = this.pages.map((page, i) =>\r\n      h(CalendarPane, {\r\n        attrs: {\r\n          ...this.$attrs,\r\n          attributes: this.store,\r\n        },\r\n        props: {\r\n          titlePosition: this.titlePosition_,\r\n          page,\r\n          minPage: this.minPage_,\r\n          maxPage: this.maxPage_,\r\n          canMove: this.canMove,\r\n        },\r\n        on: {\r\n          ...this.$listeners,\r\n          'update:page': e => this.refreshPages({ page: e, position: i + 1 }),\r\n          dayfocusin: e => {\r\n            this.lastFocusedDay = e;\r\n            this.$emit('dayfocusin', e);\r\n          },\r\n          dayfocusout: e => {\r\n            this.lastFocusedDay = null;\r\n            this.$emit('dayfocusout', e);\r\n          },\r\n        },\r\n        scopedSlots: this.$scopedSlots,\r\n        key: page.key,\r\n        ref: 'pages',\r\n        refInFor: true,\r\n      }),\r\n    );\r\n\r\n    // Renderer for calendar arrows\r\n    const getArrowButton = isPrev => {\r\n      const click = () => this.move(isPrev ? -this.step_ : this.step_);\r\n      const keydown = e => onSpaceOrEnter(e, click);\r\n      const isDisabled = isPrev ? !this.canMovePrev : !this.canMoveNext;\r\n      return h(\r\n        'div',\r\n        {\r\n          class: [\r\n            `vc-flex vc-justify-center vc-items-center vc-cursor-pointer vc-select-none ${\r\n              isDisabled\r\n                ? 'vc-opacity-25 vc-pointer-events-none vc-cursor-not-allowed'\r\n                : 'vc-pointer-events-auto'\r\n            }`,\r\n            this.$theme.arrows,\r\n          ],\r\n          attrs: {\r\n            role: 'button',\r\n          },\r\n          on: {\r\n            click,\r\n            keydown,\r\n          },\r\n        },\r\n        [\r\n          (isPrev\r\n            ? this.safeScopedSlot('header-left-button', { click })\r\n            : this.safeScopedSlot('header-right-button', { click })) ||\r\n            h(SvgIcon, {\r\n              props: {\r\n                name: isPrev ? 'left-arrow' : 'right-arrow',\r\n              },\r\n            }),\r\n        ],\r\n      );\r\n    };\r\n\r\n    // Day popover\r\n    const getDayPopover = () =>\r\n      h(Popover, {\r\n        props: {\r\n          id: this.sharedState.dayPopoverId,\r\n          contentClass: this.$theme.dayPopoverContainer,\r\n        },\r\n        scopedSlots: {\r\n          default: ({ args: day, updateLayout, hide }) => {\r\n            const attributes = Object.values(day.attributes).filter(\r\n              a => a.popover,\r\n            );\r\n            const masks = this.$locale.masks;\r\n            const format = this.format;\r\n            const dayTitle = format(day.date, masks.dayPopover);\r\n            return (\r\n              this.safeScopedSlot('day-popover', {\r\n                day,\r\n                attributes,\r\n                masks,\r\n                format,\r\n                dayTitle,\r\n                updateLayout,\r\n                hide,\r\n              }) ||\r\n              h('div', [\r\n                // Show popover header only if format is defined\r\n                masks.dayPopover &&\r\n                  h(\r\n                    'div',\r\n                    {\r\n                      class: ['vc-text-center', this.$theme.dayPopoverHeader],\r\n                    },\r\n                    [dayTitle],\r\n                  ),\r\n                attributes.map(attribute =>\r\n                  h(PopoverRow, {\r\n                    key: attribute.key,\r\n                    props: {\r\n                      attribute,\r\n                    },\r\n                  }),\r\n                ),\r\n              ])\r\n            );\r\n          },\r\n        },\r\n      });\r\n\r\n    // Renderer for calendar container\r\n    const getContainerGrid = () =>\r\n      h(\r\n        'div',\r\n        {\r\n          attrs: {\r\n            'data-helptext':\r\n              'Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year',\r\n          },\r\n          class: [\r\n            'vc-container',\r\n            'vc-reset',\r\n            {\r\n              'vc-min-w-full': this.isExpanded,\r\n            },\r\n            this.$theme.container,\r\n          ],\r\n          on: {\r\n            keydown: this.handleKeydown,\r\n            mouseup: e => e.preventDefault(),\r\n          },\r\n          ref: 'container',\r\n        },\r\n        [\r\n          h(\r\n            'div',\r\n            {\r\n              class: [\r\n                'vc-w-full vc-relative',\r\n                { 'vc-overflow-hidden': this.inTransition },\r\n              ],\r\n            },\r\n            [\r\n              h(\r\n                CustomTransition,\r\n                {\r\n                  props: {\r\n                    name: this.transitionName,\r\n                  },\r\n                  on: {\r\n                    beforeEnter: () => {\r\n                      this.inTransition = true;\r\n                    },\r\n                    afterEnter: () => {\r\n                      this.inTransition = false;\r\n                    },\r\n                  },\r\n                },\r\n                [\r\n                  h(\r\n                    Grid,\r\n                    {\r\n                      class: 'grid',\r\n                      props: {\r\n                        rows: this.rows,\r\n                        columns: this.columns,\r\n                        columnWidth: 'minmax(256px, 1fr)',\r\n                        disableFocus: true,\r\n                      },\r\n                      attrs: {\r\n                        ...this.$attrs,\r\n                      },\r\n                      key: arrayHasItems(this.pages) ? this.pages[0].key : '',\r\n                    },\r\n                    panes,\r\n                  ),\r\n                ],\r\n              ),\r\n              h(\r\n                'div',\r\n                {\r\n                  class: [`vc-arrows-container title-${this.titlePosition_}`],\r\n                },\r\n                [getArrowButton(true), getArrowButton(false)],\r\n              ),\r\n            ],\r\n          ),\r\n          getDayPopover(),\r\n        ],\r\n      );\r\n\r\n    return getContainerGrid();\r\n  },\r\n  mixins: [propOrDefaultMixin, rootMixin, safeScopedSlotMixin],\r\n  provide() {\r\n    return {\r\n      sharedState: this.sharedState,\r\n    };\r\n  },\r\n  props: {\r\n    rows: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    columns: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    step: Number,\r\n    titlePosition: String,\r\n    isExpanded: Boolean,\r\n    fromDate: Date,\r\n    toDate: Date,\r\n    fromPage: Object,\r\n    toPage: Object,\r\n    minPage: Object,\r\n    maxPage: Object,\r\n    transition: String,\r\n    attributes: [Object, Array],\r\n    disablePageSwipe: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      pages: [],\r\n      store: null,\r\n      lastFocusedDay: null,\r\n      focusableDay: new Date().getDate(),\r\n      transitionName: '',\r\n      inTransition: false,\r\n      sharedState: {\r\n        dayPopoverId: createGuid(),\r\n        theme: {},\r\n        masks: {},\r\n        locale: {},\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    titlePosition_() {\r\n      return this.propOrDefault('titlePosition', 'titlePosition');\r\n    },\r\n    minPage_() {\r\n      return this.minPage || pageForDate(this.$locale.toDate(this.minDate));\r\n    },\r\n    maxPage_() {\r\n      return this.maxPage || pageForDate(this.$locale.toDate(this.maxDate));\r\n    },\r\n    count() {\r\n      return this.rows * this.columns;\r\n    },\r\n    step_() {\r\n      return this.step || this.count;\r\n    },\r\n    canMovePrev() {\r\n      return (\r\n        !pageIsValid(this.minPage_) ||\r\n        pageIsAfterPage(this.pages[0], this.minPage_)\r\n      );\r\n    },\r\n    canMoveNext() {\r\n      return (\r\n        !pageIsValid(this.maxPage_) ||\r\n        pageIsBeforePage(this.pages[this.pages.length - 1], this.maxPage_)\r\n      );\r\n    },\r\n  },\r\n  watch: {\r\n    $locale() {\r\n      this.refreshLocale();\r\n      this.refreshPages({ page: head(this.pages), ignoreCache: true });\r\n      this.initStore();\r\n    },\r\n    $theme() {\r\n      this.refreshTheme();\r\n      this.initStore();\r\n    },\r\n    fromDate() {\r\n      this.refreshPages();\r\n    },\r\n    fromPage(val) {\r\n      const firstPage = this.pages && this.pages[0];\r\n      if (pageIsEqualToPage(val, firstPage)) return;\r\n      this.refreshPages();\r\n    },\r\n    toPage(val) {\r\n      const lastPage = this.pages && this.pages[this.pages.length - 1];\r\n      if (pageIsEqualToPage(val, lastPage)) return;\r\n      this.refreshPages();\r\n    },\r\n    count() {\r\n      this.refreshPages();\r\n    },\r\n    attributes(val) {\r\n      const { adds, deletes } = this.store.refresh(val);\r\n      this.refreshAttrs(this.pages, adds, deletes);\r\n    },\r\n    pages(val) {\r\n      this.refreshAttrs(val, this.store.list, null, true);\r\n    },\r\n    disabledAttribute() {\r\n      this.refreshDisabledDays();\r\n    },\r\n    lastFocusedDay(val) {\r\n      if (val) {\r\n        this.focusableDay = val.day;\r\n        this.refreshFocusableDays();\r\n      }\r\n    },\r\n    inTransition(val) {\r\n      if (val) {\r\n        this.$emit('transition-start');\r\n      } else {\r\n        this.$emit('transition-end');\r\n        if (this.transitionPromise) {\r\n          this.transitionPromise.resolve();\r\n          this.transitionPromise = null;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.refreshLocale();\r\n    this.refreshTheme();\r\n    this.initStore();\r\n    this.refreshPages();\r\n  },\r\n  mounted() {\r\n    if (!this.disablePageSwipe) {\r\n      // Add swipe handler to move to next and previous pages\r\n      const removeHandlers = addHorizontalSwipeHandler(\r\n        this.$refs.container,\r\n        ({ toLeft, toRight }) => {\r\n          if (toLeft) {\r\n            this.moveNext();\r\n          } else if (toRight) {\r\n            this.movePrev();\r\n          }\r\n        },\r\n        this.$defaults.touch,\r\n      );\r\n      // Clean up on destroy\r\n      this.$once('beforeDestroy', () => removeHandlers());\r\n    }\r\n  },\r\n  methods: {\r\n    refreshLocale() {\r\n      this.sharedState.locale = this.$locale;\r\n      this.sharedState.masks = this.$locale.masks;\r\n    },\r\n    refreshTheme() {\r\n      this.sharedState.theme = this.$theme;\r\n    },\r\n    canMove(page) {\r\n      return pageIsBetweenPages(page, this.minPage_, this.maxPage_);\r\n    },\r\n    async movePrev(opts) {\r\n      const result = await this.move(-this.step_, opts);\r\n      return result;\r\n    },\r\n    async moveNext(opts) {\r\n      const result = this.move(this.step_, opts);\r\n      return result;\r\n    },\r\n    async move(arg, opts) {\r\n      const page = this.$locale.toPage(arg, this.pages[0]);\r\n      if (!page) {\r\n        return null;\r\n      }\r\n      const result = await this.refreshPages({\r\n        ...opts,\r\n        page,\r\n      });\r\n      return result;\r\n    },\r\n    async focusDate(date, opts = {}) {\r\n      const page = pageForDate(date);\r\n      // Calculate new fromPage\r\n      let fromPage = null;\r\n      if (opts.position) {\r\n        fromPage = this.getTargetPageRange(page, opts.position).fromPage;\r\n      } else if (pageIsBeforePage(page, this.pages[0])) {\r\n        fromPage = this.getTargetPageRange(page, -1).fromPage;\r\n      } else if (pageIsAfterPage(page, last(this.pages))) {\r\n        fromPage = this.getTargetPageRange(page, 1).fromPage;\r\n      }\r\n      // Move to new fromPage if it's different from the current one\r\n      if (fromPage && !pageIsEqualToPage(fromPage, this.pages[0])) {\r\n        await this.refreshPages({\r\n          ...opts,\r\n          position: 1,\r\n          page: fromPage,\r\n        });\r\n      }\r\n      // Set focus on the element for the date\r\n      const focusableEl = this.$el.querySelector(\r\n        `.id-${this.$locale.format(date, 'YYYY-MM-DD')}.in-month .vc-focusable`,\r\n      );\r\n      if (focusableEl) {\r\n        focusableEl.focus();\r\n      }\r\n    },\r\n    async showPageRange(range, opts) {\r\n      let fromPage;\r\n      let toPage;\r\n      if (isDate(range)) {\r\n        fromPage = pageForDate(range);\r\n      } else if (isObject(range)) {\r\n        const { month, year } = range;\r\n        const { from, to } = range;\r\n        if (isNumber(month) && isNumber(year)) {\r\n          fromPage = range;\r\n        } else if (from || to) {\r\n          fromPage = isDate(from) ? pageForDate(from) : from;\r\n          toPage = isDate(to) ? pageForDate(to) : to;\r\n        }\r\n      } else {\r\n        return;\r\n      }\r\n      const lastPage = last(this.pages);\r\n      let page = fromPage;\r\n      // Offset page from the desired `toPage`\r\n      if (pageIsAfterPage(toPage, lastPage)) {\r\n        page = addPages(toPage, -(this.pages.length - 1));\r\n      }\r\n      // But no earlier than the desired `fromPage`\r\n      if (pageIsBeforePage(fromPage, page)) {\r\n        page = fromPage;\r\n      }\r\n      await this.refreshPages({ ...opts, page });\r\n    },\r\n    getTargetPageRange(page, position) {\r\n      // Calculate the page to start displaying from\r\n      let fromPage = null;\r\n      // 1. Try the page parameter\r\n      if (pageIsValid(page)) {\r\n        const pagesToAdd =\r\n          position > 0 ? 1 - position : -(this.count + position);\r\n        fromPage = addPages(page, pagesToAdd);\r\n      } else {\r\n        // 2. Try the fromPage prop\r\n        fromPage =\r\n          this.fromPage || pageForDate(this.$locale.toDate(this.fromDate));\r\n        if (!pageIsValid(fromPage)) {\r\n          // 3. Try the toPage prop\r\n          const toPage =\r\n            this.toPage || pageForDate(this.$locale.toDate(this.toPage));\r\n          if (pageIsValid(toPage)) {\r\n            fromPage = addPages(toPage, 1 - this.count);\r\n          } else {\r\n            // 4. Try the first attribute\r\n            fromPage = this.getPageForAttributes();\r\n          }\r\n        }\r\n      }\r\n      // 5. Fall back to today's page\r\n      fromPage = pageIsValid(fromPage) ? fromPage : pageForThisMonth();\r\n      // Adjust from page within allowed min/max pages\r\n      const toPage = addPages(fromPage, this.count - 1);\r\n      if (pageIsBeforePage(fromPage, this.minPage_)) {\r\n        fromPage = this.minPage_;\r\n      } else if (pageIsAfterPage(toPage, this.maxPage_)) {\r\n        fromPage = addPages(this.maxPage_, 1 - this.count);\r\n      }\r\n      return { fromPage, toPage };\r\n    },\r\n    async refreshPages({ page, position = 1, transition, ignoreCache } = {}) {\r\n      return new Promise((resolve, reject) => {\r\n        const { fromPage, toPage } = this.getTargetPageRange(page, position);\r\n        // Create the new pages\r\n        const pages = [];\r\n        for (let i = 0; i < this.count; i++) {\r\n          pages.push(this.buildPage(addPages(fromPage, i), ignoreCache));\r\n        }\r\n        // Refresh disabled days for new pages\r\n        this.refreshDisabledDays(pages);\r\n        // Refresh focusable days for new pages\r\n        this.refreshFocusableDays(pages);\r\n        // Assign the transition\r\n        this.transitionName = this.getPageTransition(\r\n          this.pages[0],\r\n          pages[0],\r\n          transition,\r\n        );\r\n        // Assign the new pages\r\n        this.pages = pages;\r\n        // Emit page update events\r\n        this.$emit('update:from-page', fromPage);\r\n        this.$emit('update:to-page', toPage);\r\n        if (this.transitionName && this.transitionName !== 'none') {\r\n          this.transitionPromise = {\r\n            resolve,\r\n            reject,\r\n          };\r\n        } else {\r\n          resolve();\r\n        }\r\n      });\r\n    },\r\n    refreshDisabledDays(pages) {\r\n      this.getPageDays(pages).forEach(d => {\r\n        d.isDisabled =\r\n          !!this.disabledAttribute && this.disabledAttribute.includesDay(d);\r\n      });\r\n    },\r\n    refreshFocusableDays(pages) {\r\n      this.getPageDays(pages).forEach(d => {\r\n        d.isFocusable = d.inMonth && d.day === this.focusableDay;\r\n      });\r\n    },\r\n    getPageDays(pages = this.pages) {\r\n      return pages.reduce((prev, curr) => prev.concat(curr.days), []);\r\n    },\r\n    getPageTransition(oldPage, newPage, transition = this.transition) {\r\n      if (transition === 'none') return transition;\r\n      if (\r\n        transition === 'fade' ||\r\n        (!transition && this.count > 1) ||\r\n        !pageIsValid(oldPage) ||\r\n        !pageIsValid(newPage)\r\n      ) {\r\n        return 'fade';\r\n      }\r\n      // Moving to a previous page\r\n      const movePrev = pageIsBeforePage(newPage, oldPage);\r\n      // Vertical slide\r\n      if (transition === 'slide-v') {\r\n        return movePrev ? 'slide-down' : 'slide-up';\r\n      }\r\n      // Horizontal slide\r\n      return movePrev ? 'slide-right' : 'slide-left';\r\n    },\r\n    getPageForAttributes() {\r\n      let page = null;\r\n      const attr = this.store.pinAttr;\r\n      if (attr && attr.hasDates) {\r\n        let [date] = attr.dates;\r\n        date = date.start || date.date;\r\n        page = pageForDate(this.$locale.toDate(date));\r\n      }\r\n      return page;\r\n    },\r\n    buildPage({ month, year }, ignoreCache) {\r\n      const key = `${year.toString()}-${month.toString()}`;\r\n      let page = this.pages.find(p => p.key === key);\r\n      if (!page || ignoreCache) {\r\n        const date = new Date(year, month - 1, 15);\r\n        const monthComps = this.$locale.getMonthComps(month, year);\r\n        const prevMonthComps = this.$locale.getPrevMonthComps(month, year);\r\n        const nextMonthComps = this.$locale.getNextMonthComps(month, year);\r\n        page = {\r\n          key,\r\n          month,\r\n          year,\r\n          title: this.$locale.format(date, this.$locale.masks.title),\r\n          shortMonthLabel: this.$locale.format(date, 'MMM'),\r\n          monthLabel: this.$locale.format(date, 'MMMM'),\r\n          shortYearLabel: year.toString().substring(2),\r\n          yearLabel: year.toString(),\r\n          monthComps,\r\n          prevMonthComps,\r\n          nextMonthComps,\r\n          canMove: pg => this.canMove(pg),\r\n          move: pg => this.move(pg),\r\n          moveThisMonth: () => this.moveThisMonth(),\r\n          movePrevMonth: () => this.move(prevMonthComps),\r\n          moveNextMonth: () => this.move(nextMonthComps),\r\n          refresh: true,\r\n        };\r\n        // Assign day info\r\n        page.days = this.$locale.getCalendarDays(page);\r\n      }\r\n      return page;\r\n    },\r\n    initStore() {\r\n      // Create a new attribute store\r\n      this.store = new AttributeStore(\r\n        this.$theme,\r\n        this.$locale,\r\n        this.attributes,\r\n      );\r\n      // Refresh attributes for existing pages\r\n      this.refreshAttrs(this.pages, this.store.list, [], true);\r\n    },\r\n    refreshAttrs(pages = [], adds = [], deletes = [], reset) {\r\n      if (!arrayHasItems(pages)) return;\r\n      // For each page...\r\n      pages.forEach(p => {\r\n        // For each day...\r\n        p.days.forEach(d => {\r\n          let map = {};\r\n          // If resetting...\r\n          if (reset) {\r\n            // Flag day for refresh if it has attributes\r\n            d.refresh = arrayHasItems(d.attributes);\r\n          } else if (hasAny(d.attributesMap, deletes)) {\r\n            // Delete attributes from the delete list\r\n            map = omit(d.attributesMap, deletes);\r\n            // Flag day for refresh\r\n            d.refresh = true;\r\n          } else {\r\n            // Get the existing attributes\r\n            map = d.attributesMap || {};\r\n          }\r\n          // For each attribute to add...\r\n          adds.forEach(attr => {\r\n            // Add it if it includes the current day\r\n            const targetDate = attr.includesDay(d);\r\n            if (targetDate) {\r\n              const newAttr = {\r\n                ...attr,\r\n                targetDate,\r\n              };\r\n              map[attr.key] = newAttr;\r\n              // Flag day for refresh\r\n              d.refresh = true;\r\n            }\r\n          });\r\n          // Reassign day attributes\r\n          if (d.refresh) {\r\n            d.attributesMap = map;\r\n          }\r\n        });\r\n      });\r\n      // Refresh pages\r\n      this.$nextTick(() => {\r\n        this.$refs.pages.forEach(p => p.refresh());\r\n      });\r\n    },\r\n    handleKeydown(e) {\r\n      const day = this.lastFocusedDay;\r\n      if (day != null) {\r\n        day.event = e;\r\n        this.handleDayKeydown(day);\r\n      }\r\n    },\r\n    handleDayKeydown(day) {\r\n      const { date, event } = day;\r\n      let newDate = null;\r\n      switch (event.key) {\r\n        case 'ArrowLeft': {\r\n          // Move to previous day\r\n          newDate = addDays(date, -1);\r\n          break;\r\n        }\r\n        case 'ArrowRight': {\r\n          // Move to next day\r\n          newDate = addDays(date, 1);\r\n          break;\r\n        }\r\n        case 'ArrowUp': {\r\n          // Move to previous week\r\n          newDate = addDays(date, -7);\r\n          break;\r\n        }\r\n        case 'ArrowDown': {\r\n          // Move to next week\r\n          newDate = addDays(date, 7);\r\n          break;\r\n        }\r\n        case 'Home': {\r\n          // Move to first weekday position\r\n          newDate = addDays(date, -day.weekdayPosition + 1);\r\n          break;\r\n        }\r\n        case 'End': {\r\n          // Move to last weekday position\r\n          newDate = addDays(date, day.weekdayPositionFromEnd);\r\n          break;\r\n        }\r\n        case 'PageUp': {\r\n          if (event.altKey) {\r\n            // Move to previous year w/ Alt/Option key\r\n            newDate = addYears(date, -1);\r\n          } else {\r\n            // Move to previous month\r\n            newDate = addMonths(date, -1);\r\n          }\r\n          break;\r\n        }\r\n        case 'PageDown': {\r\n          if (event.altKey) {\r\n            // Move to next year w/ Alt/Option key\r\n            newDate = addYears(date, 1);\r\n          } else {\r\n            // Move to next month\r\n            newDate = addMonths(date, 1);\r\n          }\r\n          break;\r\n        }\r\n      }\r\n      if (newDate) {\r\n        event.preventDefault();\r\n        this.focusDate(newDate);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n.vc-container {\r\n  --slide-translate: 22px;\r\n  --slide-duration: 0.15s;\r\n  --slide-timing: ease;\r\n\r\n  --header-padding: 10px 10px 0 10px;\r\n  --title-padding: 0 8px;\r\n  --arrows-padding: 8px 10px;\r\n  --arrow-font-size: 26px;\r\n  --weekday-padding: 5px 0;\r\n  --weeks-padding: 5px 6px 7px 6px;\r\n\r\n  --nav-container-width: 170px;\r\n\r\n  --day-min-height: 28px;\r\n  --day-content-width: 28px;\r\n  --day-content-height: 28px;\r\n  --day-content-margin: 1.6px auto;\r\n  --day-content-transition-time: 0.13s ease-in;\r\n  --day-content-bg-color-hover: hsla(211, 25%, 84%, 0.3);\r\n  --day-content-dark-bg-color-hover: hsla(216, 15%, 52%, 0.3);\r\n  --day-content-bg-color-focus: hsla(211, 25%, 84%, 0.4);\r\n  --day-content-dark-bg-color-focus: hsla(216, 15%, 52%, 0.4);\r\n\r\n  --highlight-height: 28px;\r\n\r\n  --dot-diameter: 5px;\r\n  --dot-border-radius: 50%;\r\n  --dot-spacing: 3px;\r\n\r\n  --bar-height: 3px;\r\n  --bars-width: 75%;\r\n\r\n  font-family: BlinkMacSystemFont, -apple-system, 'Segoe UI', 'Roboto', 'Oxygen',\r\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n    'Helvetica', 'Arial', sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  position: relative;\r\n  width: max-content;\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.vc-arrows-container {\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: var(--arrows-padding);\r\n  pointer-events: none;\r\n  &.title-left {\r\n    justify-content: flex-end;\r\n  }\r\n  &.title-right {\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n</style>\r\n","<script>\r\nimport Calendar from './Calendar';\r\nimport Popover from './Popover';\r\nimport PopoverRef from './PopoverRef';\r\nimport SinglePicker from '../utils/pickers/single';\r\nimport MultiplePicker from '../utils/pickers/multiple';\r\nimport RangePicker from '../utils/pickers/range';\r\nimport {\r\n  rootMixin,\r\n  propOrDefaultMixin,\r\n  safeScopedSlotMixin,\r\n} from '../utils/mixins';\r\nimport { addTapOrClickHandler } from '../utils/touch';\r\nimport { createGuid, elementContains, on, off } from '../utils/helpers';\r\nimport { isString, isArray } from '../utils/_';\r\n\r\nexport default {\r\n  name: 'DatePicker',\r\n  render(h) {\r\n    const calendar = () =>\r\n      h(Calendar, {\r\n        attrs: {\r\n          ...this.$attrs,\r\n          attributes: this.attributes_,\r\n          theme: this.$theme,\r\n          locale: this.$locale,\r\n        },\r\n        props: {\r\n          minDate: this.minDate,\r\n          maxDate: this.maxDate,\r\n          disabledDates: this.disabledDates,\r\n          availableDates: this.availableDates,\r\n        },\r\n        on: {\r\n          ...this.$listeners,\r\n          dayclick: this.onDayClick,\r\n          daymouseenter: this.onDayMouseEnter,\r\n          daykeydown: this.onDayKeydown,\r\n          dayfocusin: this.onDayFocusIn,\r\n        },\r\n        scopedSlots: this.$scopedSlots,\r\n        ref: 'calendar',\r\n      });\r\n    // If inline just return the calendar\r\n    if (this.isInline) return calendar();\r\n    // Render the slot or ihput\r\n    const inputSlot =\r\n      this.safeScopedSlot('default', {\r\n        inputClass: this.inputClass,\r\n        inputValue: this.inputValue,\r\n        inputProps: this.inputProps_,\r\n        inputEvents: this.inputEvents,\r\n        isDragging: !!this.dragValue,\r\n        updateValue: this.updateValue,\r\n        hidePopover: this.hidePopover,\r\n      }) ||\r\n      h('input', {\r\n        class: this.inputClass,\r\n        attrs: this.inputProps_,\r\n        domProps: {\r\n          value: this.inputValue,\r\n        },\r\n        on: this.inputEvents,\r\n      });\r\n    // Convert this span to a fragment when supported in Vue\r\n    return h('span', [\r\n      h(\r\n        PopoverRef,\r\n        {\r\n          props: {\r\n            ...this.popover_,\r\n            id: this.datePickerPopoverId,\r\n            isInteractive: true,\r\n          },\r\n        },\r\n        [inputSlot],\r\n      ),\r\n      // Picker popover\r\n      h(Popover, {\r\n        props: {\r\n          id: this.datePickerPopoverId,\r\n          placement: 'bottom-start',\r\n          contentClass: this.$theme.container,\r\n        },\r\n        on: {\r\n          beforeShow: e => this.$emit('popoverWillShow', e),\r\n          afterShow: e => this.$emit('popoverDidShow', e),\r\n          beforeHide: e => this.$emit('popoverWillHide', e),\r\n          afterHide: e => this.$emit('popoverDidHide', e),\r\n        },\r\n        scopedSlots: {\r\n          default() {\r\n            return calendar();\r\n          },\r\n        },\r\n        ref: 'popover',\r\n      }),\r\n    ]);\r\n  },\r\n  mixins: [rootMixin, propOrDefaultMixin, safeScopedSlotMixin],\r\n  props: {\r\n    mode: { type: String, default: 'single' },\r\n    value: { type: null, required: true },\r\n    isRequired: Boolean,\r\n    isInline: Boolean,\r\n    updateOnInput: Boolean,\r\n    inputDebounce: Number,\r\n    inputProps: { type: Object, default: () => ({}) },\r\n    popover: { type: Object, default: () => ({}) },\r\n    dragAttribute: Object,\r\n    selectAttribute: Object,\r\n    attributes: Array,\r\n  },\r\n  data() {\r\n    return {\r\n      value_: null,\r\n      dragValue: null,\r\n      inputValue: '',\r\n      doFormatInput: true,\r\n      doHidePopover: false,\r\n      doAdjustPageRange: false,\r\n      updateTimeout: null,\r\n      datePickerPopoverId: createGuid(),\r\n    };\r\n  },\r\n  computed: {\r\n    updateOnInput_() {\r\n      return this.propOrDefault('updateOnInput', 'datePicker.updateOnInput');\r\n    },\r\n    inputDebounce_() {\r\n      return this.propOrDefault('inputDebounce', 'datePicker.inputDebounce');\r\n    },\r\n    inputMasks() {\r\n      const inputFormat = this.$locale.masks.input;\r\n      return (isArray(inputFormat) && inputFormat) || [inputFormat];\r\n    },\r\n    inputClass() {\r\n      const inputClass = this.inputProps.class || this.$theme.datePickerInput;\r\n      const inputDragClass =\r\n        this.inputProps.dragClass || this.$theme.datePickerInputDrag;\r\n      return this.picker.hasValue(this.dragValue)\r\n        ? inputDragClass || inputClass\r\n        : inputClass;\r\n    },\r\n    inputProps_() {\r\n      // Merge the user props with local\r\n      const props = {\r\n        ...this.inputProps,\r\n        value: this.inputValue,\r\n        type: 'input',\r\n      };\r\n      // Delete class properties\r\n      delete props.class;\r\n      delete props.dragClass;\r\n      return props;\r\n    },\r\n    inputEvents() {\r\n      return {\r\n        input: this.inputInput,\r\n        change: this.inputChange,\r\n        // keydown: this.inputKeydown,\r\n        keyup: this.inputKeyup,\r\n      };\r\n    },\r\n    popover_() {\r\n      return this.propOrDefault('popover', 'datePicker.popover', 'merge');\r\n    },\r\n    canHidePopover() {\r\n      return !(\r\n        this.popover.keepVisibleOnInput ||\r\n        this.popover_.visibility !== 'visible'\r\n      );\r\n    },\r\n    selectAttribute_() {\r\n      if (!this.picker.hasValue(this.value_)) return null;\r\n      const attribute = {\r\n        key: 'select-drag',\r\n        ...this.selectAttribute,\r\n        dates: this.value_,\r\n        pinPage: true,\r\n      };\r\n      const { dot, bar, highlight, content } = attribute;\r\n      if (!dot && !bar && !highlight && !content) {\r\n        attribute.highlight = true;\r\n      }\r\n      return attribute;\r\n    },\r\n    dragAttribute_() {\r\n      if (this.mode !== 'range' || !this.picker.hasValue(this.dragValue)) {\r\n        return null;\r\n      }\r\n      const attribute = {\r\n        key: 'select-drag',\r\n        ...this.dragAttribute,\r\n        dates: this.dragValue,\r\n      };\r\n      const { dot, bar, highlight, content } = attribute;\r\n      if (!dot && !bar && !highlight && !content) {\r\n        attribute.highlight = {\r\n          startEnd: {\r\n            fillMode: 'none',\r\n          },\r\n        };\r\n      }\r\n      return attribute;\r\n    },\r\n    attributes_() {\r\n      const attrs = isArray(this.attributes) ? [...this.attributes] : [];\r\n      if (this.dragAttribute_) {\r\n        attrs.push(this.dragAttribute_);\r\n      } else if (this.selectAttribute_) {\r\n        attrs.push(this.selectAttribute_);\r\n      }\r\n      return attrs;\r\n    },\r\n    picker() {\r\n      const opts = {\r\n        locale: this.$locale,\r\n        format: d => this.$locale.format(d, this.inputMasks[0]),\r\n        parse: s => this.$locale.parse(s, this.inputMasks),\r\n      };\r\n      switch (this.mode) {\r\n        case 'multiple':\r\n          return new MultiplePicker(opts);\r\n        case 'range':\r\n          return new RangePicker(opts);\r\n        default:\r\n          return new SinglePicker(opts);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    mode() {\r\n      // Clear value on select mode change\r\n      this.value_ = null;\r\n    },\r\n    value: {\r\n      handler() {\r\n        this.value_ = this.picker.filterDisabled({\r\n          value: this.value,\r\n          isRequired: this.isRequired,\r\n          disabled: this.disabledAttribute,\r\n          fallbackValue: null,\r\n        });\r\n        if (this.value && !this.value_) {\r\n          this.$emit('input', null);\r\n        }\r\n      },\r\n      immediate: true,\r\n    },\r\n    value_: {\r\n      handler(val) {\r\n        // Only emit events for internal updates and value changes\r\n        if (!this.picker.valuesAreEqual(val, this.value)) {\r\n          this.$emit('input', val);\r\n        }\r\n        // Execute side-effects for non-inline pickers\r\n        if (!this.isInline) {\r\n          if (this.doFormatInput) this.formatInput();\r\n          if (this.doHidePopover) this.hidePopover();\r\n          if (this.doAdjustPageRange) this.adjustPageRange();\r\n        }\r\n        this.doFormatInput = true;\r\n        this.doHidePopover = false;\r\n        this.doAdjustPageRange = false;\r\n      },\r\n      immediate: true,\r\n    },\r\n    dragValue(val) {\r\n      this.formatInput();\r\n      this.$emit('drag', this.picker.normalize(val));\r\n    },\r\n  },\r\n  mounted() {\r\n    // Handle escape key presses\r\n    on(document, 'keydown', this.onDocumentKeyDown);\r\n    // Clear drag on background click\r\n    const offTapOrClickHandler = addTapOrClickHandler(document, e => {\r\n      if (\r\n        document.body.contains(e.target) &&\r\n        !elementContains(this.$el, e.target) &&\r\n        this.dragValue\r\n      ) {\r\n        this.dragValue = null;\r\n      }\r\n    });\r\n    // Clean up handlers\r\n    this.$once('beforeDestroy', () => {\r\n      off(document, 'keydown', this.onDocumentKeyDown);\r\n      offTapOrClickHandler();\r\n    });\r\n  },\r\n  methods: {\r\n    dateIsValid(date) {\r\n      if (!date) return true;\r\n      return (\r\n        !!this.disabledAttribute && !this.disabledAttribute.intersectsDate(date)\r\n      );\r\n    },\r\n    onDocumentKeyDown(e) {\r\n      // Clear drag on escape keydown\r\n      if (this.dragValue && e.keyCode === 27) {\r\n        this.dragValue = null;\r\n      }\r\n    },\r\n    onDayClick(day) {\r\n      this.picker.handleDayClick(day, this);\r\n      // Re-emit event\r\n      this.$emit('dayclick', day);\r\n    },\r\n    onDayMouseEnter(day) {\r\n      this.picker.handleDayMouseEnter(day, this);\r\n      // Re-emit event\r\n      this.$emit('daymouseenter', day);\r\n    },\r\n    onDayFocusIn(day) {\r\n      this.picker.handleDayMouseEnter(day, this);\r\n      // Re-emit event\r\n      this.$emit('dayfocusin', day);\r\n    },\r\n    onDayKeydown(day) {\r\n      switch (day.event.key) {\r\n        case ' ':\r\n        case 'Enter': {\r\n          this.picker.handleDayClick(day, this);\r\n          day.event.preventDefault();\r\n          break;\r\n        }\r\n        case 'Escape': {\r\n          this.hidePopover();\r\n        }\r\n      }\r\n      // Re-emit event\r\n      this.$emit('daykeydown', day);\r\n    },\r\n    inputInput(e) {\r\n      this.inputValue = e.target.value;\r\n      if (this.updateOnInput_) {\r\n        this.updateValue(this.inputValue, {\r\n          formatInput: false,\r\n          hidePopover: false,\r\n          adjustPageRange: true,\r\n          debounce: this.inputDebounce_,\r\n        });\r\n      }\r\n    },\r\n    inputChange() {\r\n      this.updateValue(this.inputValue, {\r\n        formatInput: true,\r\n        hidePopover: false,\r\n        adjustPageRange: false,\r\n      });\r\n    },\r\n    inputKeyup(e) {\r\n      // Escape key\r\n      if (e.keyCode === 27) {\r\n        this.updateValue(this.value_, {\r\n          formatInput: true,\r\n          hidePopover: true,\r\n          adjustPageRange: false,\r\n        });\r\n      }\r\n    },\r\n    updateValue(\r\n      value = this.inputValue,\r\n      { formatInput, hidePopover, adjustPageRange, debounce } = {},\r\n    ) {\r\n      clearTimeout(this.updateTimeout);\r\n      if (debounce === undefined || debounce < 0) {\r\n        this.forceUpdateValue(value, {\r\n          formatInput,\r\n          hidePopover,\r\n          adjustPageRange,\r\n        });\r\n      } else {\r\n        this.updateTimeout = setTimeout(() => {\r\n          this.updateTimeout = null;\r\n          this.forceUpdateValue(value, {\r\n            formatInput,\r\n            hidePopover,\r\n            adjustPageRange,\r\n          });\r\n        }, debounce);\r\n      }\r\n    },\r\n    forceUpdateValue(value, { formatInput, hidePopover, adjustPageRange }) {\r\n      // Reassign input value for good measure\r\n      this.inputValue = isString(value) ? value : this.inputValue;\r\n      // Parse value if needed\r\n      const userValue = isString(value) ? this.picker.parse(value) : value;\r\n      // Set state for handling value change\r\n      this.doFormatInput = formatInput;\r\n      this.doHidePopover = hidePopover;\r\n      this.doAdjustPageRange = adjustPageRange;\r\n      // Sanitize and assign new value\r\n      this.value_ = this.picker.filterDisabled({\r\n        value: this.picker.normalize(userValue),\r\n        disabled: this.disabledAttribute,\r\n        fallbackValue: this.value_,\r\n      });\r\n    },\r\n    formatInput() {\r\n      this.$nextTick(() => {\r\n        const value = this.picker.hasValue(this.dragValue)\r\n          ? this.dragValue\r\n          : this.value_;\r\n        this.inputValue = this.picker.format(value);\r\n      });\r\n    },\r\n    hidePopover() {\r\n      const popover = this.$refs.popover;\r\n      if (popover) {\r\n        popover.hide({ priority: 10, delay: 250 });\r\n      }\r\n    },\r\n    adjustPageRange() {\r\n      if (this.picker.hasValue(this.value_) && this.$refs.calendar) {\r\n        this.$refs.calendar.showPageRange(\r\n          this.picker.getPageRange(this.value_),\r\n        );\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n::v-deep .vc-container {\r\n  border: none;\r\n}\r\n</style>\r\n"]}